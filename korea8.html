<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CC é¦–çˆ¾5D4N</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        body { font-family: 'Noto Sans TC', 'Noto Sans KR', sans-serif; background-color: #F8F9FA; -webkit-tap-highlight-color: transparent; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // ============================================================================
        // 1. åœ–ç¤ºåº« (Icons) - å¿…é ˆæœ€å…ˆå®šç¾©
        // ============================================================================
        const Icons = {
            Plane: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M2 12h20"/><path d="M13 2l9 10-9 10"/><path d="M2 12l5-5m0 10l-5-5"/></svg>, 
            MapPin: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>,
            Utensils: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>,
            ShoppingBag: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>,
            Camera: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>,
            Coffee: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 8h1a4 4 0 0 1 0 8h-1"/><path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/><line x1="6" y1="1" x2="6" y2="4"/><line x1="10" y1="1" x2="10" y2="4"/><line x1="14" y1="1" x2="14" y2="4"/></svg>,
            Moon: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>,
            CheckSquare: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>,
            Calendar: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>,
            Info: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>,
            ChevronRight: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="9 18 15 12 9 6"/></svg>,
            Train: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/><path d="M2 12h20"/><path d="M4 7h16"/></svg>,
            Bus: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><path d="M7 21v-2"/><path d="M17 21v-2"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="8" x2="21" y2="8"/></svg>,
            AlertTriangle: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>,
            Hotel: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 21h18"/><path d="M5 21V7"/><path d="M19 21V7"/><path d="M5 7a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v14"/><path d="M15 9a2 2 0 0 1 2-2h2"/></svg>,
            Clock: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Map: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"/><line x1="8" y1="2" x2="8" y2="18"/><line x1="16" y1="6" x2="16" y2="22"/></svg>,
            Copy: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>,
            ExternalLink: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>,
            Sun: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>,
            CloudRain: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="16" y1="13" x2="16" y2="21"/><line x1="8" y1="13" x2="8" y2="21"/><line x1="12" y1="15" x2="12" y2="23"/><path d="M20 16.58A5 5 0 0 0 18 7h-1.26A8 8 0 1 0 4 15.25"/></svg>,
            Snowflake: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="2" y1="12" x2="22" y2="12"/><line x1="12" y1="2" x2="12" y2="22"/><path d="M20 16l-4-4 4-4"/><path d="M4 8l4 4-4 4"/><path d="M16 4l-4 4-4-4"/><path d="M8 20l4-4 4 4"/></svg>,
            Cloud: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"/></svg>,
            Thermometer: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14 14.76V3.5a2.5 2.5 0 0 0-5 0v11.26a4.5 4.5 0 1 0 5 0z"/></svg>,
            Car: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="1" y="3" width="22" height="13" rx="2" ry="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>, 
            Link: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>,
            ThumbsUp: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"/></svg>,
            Maximize2: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" y1="3" x2="14" y2="10"/><line x1="3" y1="21" x2="10" y2="14"/></svg>,
            X: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            Timer: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="10" x2="14" y1="2" y2="2"/><line x1="12" x2="15" y1="14" y2="11"/><circle cx="12" cy="14" r="8"/></svg>,
            Gift: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="20 12 20 22 4 22 4 12"/><rect x="2" y="7" width="20" height="5"/><line x1="12" y1="22" x2="12" y2="7"/><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"/><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"/></svg>,
            Eye: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>,
            SimCard: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M6 2h8l4 4v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/><path d="M6 4h8"/><path d="M6 8h8"/><path d="M6 12h12"/><path d="M6 16h12"/><path d="M6 20h12"/></svg>,
            Upload: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>,
            Shirt: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M20.38 3.4a2 2 0 0 0-1.8-1.11h-13.16a2 2 0 0 0-1.8 1.11l-2.62 5.88a2 2 0 0 0 1.84 2.72h2.16v9a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-9h2.16a2 2 0 0 0 1.84-2.72l-2.62-5.88z"/><line x1="12" y1="8" x2="12" y2="14"/></svg>,
            Navigation: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>,
            DollarSign: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>,
            Languages: (p) => <svg {...p} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m5 8 6 6"/><path d="m4 14 6-6 2-3"/><path d="M2 5h12"/><path d="M7 2h1"/><path d="m22 22-5-10-5 10"/><path d="M14 18h6"/></svg>,
        };

        // ---------------------------------------------------------
        // 2. è³‡æ–™ (Data)
        // ---------------------------------------------------------
        const esimData = [
            { id: 1, name: "éŸ“åœ‹eSIM (SK Telecom) - 5æ—¥ 1GB/æ—¥", exp: "2025-11-25", orderNo: "25KK253350828", code: "A295C26BD39E48AF971F639445BB456D" },
            { id: 2, name: "éŸ“åœ‹eSIM (SK Telecom) - 5æ—¥ 1GB/æ—¥", exp: "2025-11-25", orderNo: "25KK256350748", code: "F6E18E9BF451463FA59147B1974DB18E" }
        ];

        const initialTodos = [
          { id: 1, text: "è­·ç…§ (æœ‰æ•ˆæœŸ6å€‹æœˆä»¥ä¸Š)", done: false },
          { id: 2, text: "Q-CODE / å…¥å¢ƒå¡æˆªåœ–", done: false },
          { id: 3, text: "T-Money äº¤é€šå¡", done: false },
          { id: 4, text: "ç¶²å¡ / eSIM", done: false },
          { id: 5, text: "è½‰æ¥é ­ (éŸ“åœ‹æ˜¯å…©å­”åœ“å½¢)", done: false },
          { id: 6, text: "æ›éŸ“å…ƒ (ç¾é‡‘/WOWPASS)", done: false },
          { id: 7, text: "ç‰™åˆ·ç‰™è† (éŸ“åœ‹ç’°ä¿ä¸ä¸»å‹•æä¾›)", done: false },
          { id: 8, text: "è¡Œå‹•é›»æº & å……é›»ç·š", done: false },
          { id: 9, text: "é ç´„æ†‘è­‰ (å¦‚: é¤å»³/éŸ“æœ)", done: false },
        ];

        const initialItinerary = [
          {
            day: 1,
            title: "æŠµé”é¦–çˆ¾ & é¾å±±ä¹‹å¤œ",
            date: "11/25 (ä¸€)",
            image: "https://images.unsplash.com/photo-1548115184-bc6544d06a58?auto=format&fit=crop&w=800&q=80", 
            weather: {
              condition: "æœ‰é›¨è½‰é™°",
              temp: "4Â°C - 9Â°C",
              icon: <Icons.CloudRain className="text-[#5B8FF9]" size={24} />,
              desc: "é™é›¨æ©Ÿç‡é«˜ï¼Œè«‹éš¨èº«æ”œå¸¶é›¨å‚˜ä¸¦æ³¨æ„ä¿æš–ã€‚"
            },
            events: [
              { 
                  time: "07:00", title: "å°ç£æ©Ÿå ´æ¥é€ (å»ç¨‹)", koreanName: "íƒ€ì˜¤ìœ„ì•ˆ ê³µí•­ ì¶œë°œ", type: "transport", icon: <Icons.Car size={16} />, duration: "4.5 å°æ™‚", desc: "è‚¯é©›é ç´„ F14463084 (é©—è­‰ç¢¼ 2825)ã€‚", link: "https://68666.tw/5R8s",
                  isTaiwan: true,
                  nextMove: { to: "ä»å·æ©Ÿå ´", kor: "ì¸ì²œêµ­ì œê³µí•­", time: "ç´„ 4.5 å°æ™‚", type: "é£›æ©Ÿ", cost: "-" }
              },
              {
                  time: "09:00", title: "é ˜å–éŸ“å…ƒ (è‡ºç£éŠ€è¡Œ)", koreanName: "í™˜ì „ ìˆ˜ë ¹", type: "activity", icon: <Icons.DollarSign size={16} />, duration: "20 åˆ†é˜",
                  desc: (<span>ğŸ“ åœ°é»ï¼šç¬¬äºŒèˆªå»ˆ 3F å‡ºå¢ƒå¤§å»³ (8-9è™Ÿæ«ƒå°ä¸­é–“)<br/><span className="bg-red-100 px-1 rounded text-red-800 font-bold inline-block mt-1">è¨‚å–®ï¼š30684311591552 (â‚©200,000)</span></span>),
                  isTaiwan: true,
                  isWarning: false
              },
              {
                  time: "11:40", title: "æ­ä¹˜éŸ“äºèˆªç©º (OZ712)", koreanName: "ì•„ì‹œì•„ë‚˜í•­ê³µ OZ712", type: "transport", icon: <Icons.Plane size={16} />, duration: "2å°æ™‚45åˆ†",
                  desc: (<span>TPE ç¬¬2èˆªå»ˆ âœˆï¸ ICN ç¬¬1èˆªå»ˆ<br/><span className="bg-blue-100 px-1 rounded text-blue-800 font-bold inline-block mt-1">è¨‚ä½ä»£è™Ÿï¼šD4NUQ8</span></span>),
                  isWarning: false
              },
              { 
                  time: "15:25", title: "æŠµé”ä»å·æ©Ÿå ´ (T1)", koreanName: "ì¸ì²œêµ­ì œê³µí•­ ì œ1ì—¬ê°í„°ë¯¸ë„", type: "transport", icon: <Icons.Plane size={16} />, duration: "1 å°æ™‚", 
                  desc: (<span>âš ï¸ ä¸‹æ©Ÿå¾Œè«‹ç›¡é€Ÿå®Œæˆå…¥å¢ƒæµç¨‹ã€‚<br/><span className="bg-yellow-200 px-1 rounded text-yellow-800 font-bold inline-block mt-1">ğŸšŒ å·´å£«æ­ä¹˜é»ï¼š1æ¨“ 5B-2 æˆ– 11B-2 (6001è™Ÿ)</span></span>),
                  nextMove: { to: "é¾å±±é£¯åº—", kor: "ë‚˜ì¸íŠ¸ë¦¬ í”„ë¦¬ë¯¸ì–´ ë¡œì¹´ìš°ìŠ¤ í˜¸í…” ì„œìš¸ ìš©ì‚°", time: "ç´„ 1.5 å°æ™‚", type: "æ©Ÿå ´å·´å£« 6001", cost: "â‚©17,000" },
                  isWarning: true
              },
              // eSIM
              { 
                time: "15:30", 
                title: "é–‹é€š eSIM", 
                koreanName: "ì´ì‹¬ í™œì„±í™”", 
                type: "transport", 
                icon: <Icons.SimCard size={16} />, 
                duration: "10 åˆ†é˜", 
                desc: "æŠµé”å¾Œè«‹åˆ‡æ›è‡³ eSIM ä¸Šç¶²ã€‚",
                esim: true
              },
              { 
                  time: "16:15", title: "å‰å¾€é¾å±±é£¯åº—", koreanName: "ë‚˜ì¸íŠ¸ë¦¬ í”„ë¦¬ë¯¸ì–´ ë¡œì¹´ìš°ìŠ¤ í˜¸í…” ì„œìš¸ ìš©ì‚°", type: "transport", icon: <Icons.Bus size={16} />, duration: "1.5 å°æ™‚", desc: "æ¨è–¦ï¼šæ©Ÿå ´å·´å£« 6001 ç›´é”é¾å±±ç«™ (ç«™ç‰Œ: 1æ¨“ 5B-2)ã€‚è¶•æ™‚é–“ï¼šAREX è‡³é¦–çˆ¾ç«™è½‰è¨ˆç¨‹è»Šã€‚",
                  nextMove: { to: "é£¯åº— Check-in", kor: "ë‚˜ì¸íŠ¸ë¦¬ í”„ë¦¬ë¯¸ì–´ ë¡œì¹´ìš°ìŠ¤ í˜¸í…” ì„œìš¸ ìš©ì‚°", time: "0 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              { 
                  time: "17:45", title: "é£¯åº— Check-in", koreanName: "ë‚˜ì¸íŠ¸ë¦¬ í”„ë¦¬ë¯¸ì–´ ë¡œì¹´ìš°ìŠ¤ í˜¸í…” ì„œìš¸ ìš©ì‚°", type: "stay", icon: <Icons.MapPin size={16} />, duration: "15 åˆ†é˜", desc: "Nine Tree Premier ROKAUS Hotel (é¾å±±ç«™æ—)",
                  nextMove: { to: "å¤§å»³é›†åˆ", kor: "ë‚˜ì¸íŠ¸ë¦¬ í”„ë¦¬ë¯¸ì–´ ë¡œì¹´ìš°ìŠ¤ í˜¸í…” ì„œìš¸ ìš©ì‚°", time: "15 åˆ†é˜", type: "ä¼‘æ¯", cost: "0" }
              },
              { 
                  time: "18:00", title: "é£¯åº—å¤§å»³é›†åˆ", koreanName: "ë¡œë¹„", type: "activity", icon: <Icons.Clock size={16} />, duration: "30 åˆ†é˜", desc: "æœ‹å‹æ¥é€",
                  nextMove: { to: "æ™šé¤(è‰åŸ)", kor: "ì´ˆì› ë‚¨ì˜", time: "10 åˆ†é˜", type: "è¨ˆç¨‹è»Š", cost: "â‚©6,000" }
              },
              { 
                  time: "18:30", title: "æ™šé¤ï¼šè‰åŸ (ì´ˆì›)", koreanName: "ì´ˆì› ë‚¨ì˜", type: "food", icon: <Icons.Utensils size={16} />, duration: "2 å°æ™‚", desc: "å—ç‡Ÿæ´è¶…äººæ°£ç‡’è‚‰åº—ã€‚", 
                  mustEat: "åšåˆ‡ç‰›èˆŒ (ìš°ì„¤)\néŸ“ç‰›é‡Œè‚Œ (ë“±ì‹¬ì£¼ë¬¼ëŸ­)\nå¤§è’œéºµ (ë§ˆëŠ˜êµ­ìˆ˜)",
                  reservationInfo: "ğŸ”¥ å¿…é ç´„ï¼è«‹é£¯åº—æ«ƒæª¯å¹«å¿™è¨‚ä½", bestTime: "17:00 å‰æˆ– 20:30 å¾Œ",
                  nextMove: { to: "åœ‹ç«‹ä¸­å¤®åšç‰©é¤¨", kor: "êµ­ë¦½ì¤‘ì•™ë°•ë¬¼ê´€", time: "15 åˆ†é˜", type: "å…¬è»Š/è¨ˆç¨‹è»Š", cost: "â‚©5,000" }
              },
              { 
                  time: "21:00", title: "å¤œæ™¯ï¼šåœ‹ç«‹ä¸­å¤®åšç‰©é¤¨", koreanName: "êµ­ë¦½ì¤‘ì•™ë°•ë¬¼ê´€", type: "activity", icon: <Icons.Moon size={16} />, duration: "1.5 å°æ™‚", desc: "æˆ–å» I'Park Mall / E-mart è²·é£²æ–™ã€‚",
                  nextMove: { to: "å›é£¯åº—", kor: "ë‚˜ì¸íŠ¸ë¦¬ í”„ë¦¬ë¯¸ì–´ ë¡œì¹´ìš°ìŠ¤ í˜¸í…” ì„œìš¸ ìš©ì‚°", time: "10 åˆ†é˜", type: "è¨ˆç¨‹è»Š", cost: "â‚©5,000" }
              },
            ]
          },
          {
            day: 2,
            title: "å®‰åœ‹è—è¡“ & è–æ°´æ´æ½®æµ",
            date: "11/26 (äºŒ)",
            image: "https://images.unsplash.com/photo-1538485399081-7191377e8241?auto=format&fit=crop&w=800&q=80", 
            weather: {
              condition: "å¤šé›²å¶é›ª",
              temp: "1Â°C - 8Â°C",
              icon: <Icons.Snowflake className="text-[#87CEEB]" size={24} />,
              desc: "æ°£æº«é©Ÿé™ï¼Œå¯èƒ½æœ‰çŸ­æš«é£„é›ªï¼Œå»ºè­°ç©¿è‘—ç¾½çµ¨è¡£ã€‚"
            },
            events: [
              { 
                  time: "07:30", title: "æ—©é¤ï¼šLondon Bagel / Artist Bakery", koreanName: "ëŸ°ë˜ë² ì´ê¸€ë®¤ì§€ì—„ ì•ˆêµ­ì ", type: "food", icon: <Icons.AlertTriangle size={16} />, duration: "2 å°æ™‚", desc: "âš ï¸ å»ºè­°å…ˆå»å€«æ•¦è²æœæŠ½è™Ÿï¼Œå†å» Artist Bakeryã€‚", 
                  mustEat: "è–¯æ³¥èµ·å¸è²æœ (Potato Cheese)\nè”¥è²æœ (Spring Onion)\nè˜‘è‡æ¹¯ (Mushroom Soup)",
                  reservationInfo: "ğŸ”¥ å¿…ç”¨ CatchTable ç·šä¸Šæ’éšŠ / ç¾å ´ 7:30 å‰", bestTime: "å¤–å¸¶è¼ƒå¿«",
                  nextMove: { to: "MMCA ç¾è¡“é¤¨", kor: "êµ­ë¦½í˜„ëŒ€ë¯¸ìˆ ê´€ ì„œìš¸", time: "5 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              { 
                time: "10:30", 
                title: "MMCA åœ‹ç«‹ç¾ä»£ç¾è¡“é¤¨", 
                koreanName: "êµ­ë¦½í˜„ëŒ€ë¯¸ìˆ ê´€ ì„œìš¸", 
                type: "activity", 
                icon: <Icons.Camera size={16} />, 
                duration: "2 å°æ™‚", 
                desc: "æ¬£è³å»ºç¯‰èˆ‡åº­åœ’ä¹‹ç¾ã€‚",
                highlight: "ğŸ¨ å¿…çœ‹äº®é» (Must See)ï¼š\n\n1. Seoul Box (ì„œìš¸ë°•ìŠ¤)\n   (é¤¨å…§æœ€çŸ¥åçš„å¤§å‹è£ç½®è—è¡“)\n\n2. è—è¡“åœ–æ›¸é¤¨ (Art Library)\n   (æ–‡é’å¿…æ‹ï¼Œè¶…ç¾æŒ‘é«˜æ›¸ç‰†)\n\n3. æˆ¶å¤–åº­é™¢ (ë§ˆë‹¹)\n   (çµåˆéŸ“å±‹çš„å‚³çµ±èˆ‡ç¾ä»£å»ºç¯‰)",
                nextMove: { to: "åˆé¤(ç„¡å¢å±‹)", kor: "ë¬´êµ¬ì˜¥", time: "10 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              { 
                  time: "12:30", title: "åˆé¤ï¼šç„¡å¢å±‹ (ë¬´êµ¬ì˜¥)", koreanName: "ë¬´êµ¬ì˜¥", type: "food", icon: <Icons.Utensils size={16} />, duration: "1.5 å°æ™‚", desc: "ç±³å…¶æ—æ¨è–¦ã€‚", 
                  mustEat: "éŸ“ç‰›æ¹¯é£¯ (í•œìš°êµ­ë°¥)\n*æ¹¯é ­æ¿ƒéƒè‚‰è³ªé®®å«©*",
                  reservationInfo: "ç¾å ´æ’éšŠ (ç¿»æ¡Œç‡å¿«)", bestTime: "11:30 å‰æˆ– 13:30 å¾Œ",
                  nextMove: { to: "è–æ°´æ´", kor: "ì„±ìˆ˜ë™", time: "35 åˆ†é˜", type: "åœ°éµ", cost: "â‚©1,400" }
              },
              { 
                  time: "14:00", title: "ç§»å‹•è‡³è–æ°´æ´", koreanName: "ì„±ìˆ˜ë™", type: "transport", icon: <Icons.Train size={16} />, duration: "40 åˆ†é˜", desc: "æ­åœ°éµç´„ 35-40 åˆ†é˜",
                  nextMove: { to: "è–æ°´æ´å·¡ç¦®", kor: "ì„±ìˆ˜ë™ ì¹´í˜ê±°ë¦¬", time: "0 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              { 
                time: "14:30", 
                title: "è–æ°´æ´å·¡ç¦®", 
                koreanName: "ì„±ìˆ˜ë™ ì¹´í˜ê±°ë¦¬", 
                type: "activity", 
                icon: <Icons.ShoppingBag size={16} />, 
                duration: "3.5 å°æ™‚", 
                desc: "Beton (ë² í†µ ì„±ìˆ˜), è‡ªç„¶å³¶é¹½éºµåŒ… (ìì—°ë„ì†Œê¸ˆë¹µ), ADER", 
                mustEat: "Beton é¹½éºµåŒ… (ì†Œê¸ˆë¹µ) - å¿…è²·!\nè‡ªç„¶å³¶é¹½éºµåŒ… (4å…¥ä¸€çµ„)",
                shoppingGuide: [
                    { name: "Tamburins", kor: "íƒ¬ë²„ë¦°ì¦ˆ ì„±ìˆ˜", desc: "å¿…è²·ï¼šè­·æ‰‹éœœ (í•¸ë“œí¬ë¦¼ - Chaleur)ã€é¦™æ°´è† (í¼í“¸ë°¤)", isGift: true },
                    { name: "Dior æ¦‚å¿µåº—", kor: "ë””ì˜¬ ì„±ìˆ˜", desc: "(æ‰“å¡æ‹ç…§è–åœ°)" },
                    { name: "Mardi Mercredi", kor: "ë§ˆë¥´ë”” ë©”í¬ë¥´ë”” ì„±ìˆ˜", desc: "å¿…è²·ï¼šå°é››èŠ T-shirt (í‹°ì…”ì¸ )ã€è¡›è¡£ (ë§¨íˆ¬ë§¨)" },
                    { name: "Point of View", kor: "í¬ì¸íŠ¸ì˜¤ë¸Œë·°", desc: "å¿…è²·ï¼šè³ªæ„Ÿæ–‡å…· (ë¬¸êµ¬)ã€ç´™é® (ë¬¸ì§„)", isGift: true },
                    { name: "Rockfish", kor: "ë½í”¼ì‰¬ ì„±ìˆ˜", desc: "å¿…è²·ï¼šèŠ­è•¾èˆé‹ (ë°œë ˆë¦¬ë‚˜ ìŠˆì¦ˆ)ã€é›¨é´ (ë ˆì¸ë¶€ì¸ )" }
                ],
                nextMove: { to: "æ™šé¤(Sinsoldon)", kor: "ì‹ ì†”ëˆ", time: "20 åˆ†é˜", type: "åœ°éµ", cost: "â‚©1,400" }
              },
              { 
                  time: "18:00", title: "æ™šé¤ï¼šSinsoldon", koreanName: "ì‹ ì†”ëˆ", type: "food", icon: <Icons.Utensils size={16} />, duration: "2 å°æ™‚", desc: "æ–°è¨­æ´é«˜å“è³ªç†Ÿæˆè±¬è‚‰ç‡’çƒ¤ã€‚", mustEat: "ç†Ÿæˆäº”èŠ±è‚‰ (ì‚¼ê²¹ì‚´)\nè±¬é ¸è‚‰ (ëª©ì‚´)",
                  reservationInfo: "å¯ç¾å ´å€™ä½ / æ™šé¤å°–å³°éœ€æ’éšŠ", bestTime: "18:00 å‰å…¥å ´",
                  nextMove: { to: "SPAREX æ±—è’¸å¹•", kor: "ìŠ¤íŒŒë ‰ìŠ¤ ë™ëŒ€ë¬¸ì ", time: "15 åˆ†é˜", type: "åœ°éµ", cost: "â‚©1,400" }
              },
              { 
                  time: "20:30", title: "SPAREX æ±—è’¸å¹•", koreanName: "ìŠ¤íŒŒë ‰ìŠ¤ ë™ëŒ€ë¬¸ì ", type: "activity", icon: <Icons.Coffee size={16} />, duration: "2 å°æ™‚", desc: "æ±å¤§é–€ Good Morning City B3ã€‚", mustEat: "ç”œç±³éœ² (ì‹í˜œ)\nç‡»è£½é›è›‹ (ë§¥ë°˜ì„ê³„ë€)",
                  nextMove: { to: "å›é£¯åº—", kor: "ë‚˜ì¸íŠ¸ë¦¬ í”„ë¦¬ë¯¸ì–´ ë¡œì¹´ìš°ìŠ¤ í˜¸í…” ì„œìš¸ ìš©ì‚°", time: "30 åˆ†é˜", type: "è¨ˆç¨‹è»Š", cost: "â‚©10,000" }
              },
            ]
          },
          {
            day: 3,
            title: "æ¢¨å¤§æ–°æ‘ & å¼˜å¤§ç¾é£Ÿ",
            date: "11/27 (ä¸‰)",
            image: "https://images.unsplash.com/photo-1618246146644-96c793168c9e?auto=format&fit=crop&w=800&q=80", // æ›´æ›ç‚ºæ›´æœ‰éŸ“åœ‹è¡—é ­æ°›åœçš„åœ–
            weather: {
              condition: "æ™´æ™‚å¤šé›²",
              temp: "4Â°C - 8Â°C",
              icon: <Icons.Cloud className="text-gray-400" size={24} />,
              desc: "é«”æ„Ÿå¯’å†·ï¼Œé©åˆæˆ¶å¤–æ´»å‹•ï¼Œä½†è¦æ³¨æ„é˜²é¢¨ã€‚"
            },
            events: [
              { 
                  time: "09:30", title: "æ¢¨èŠ±å¥³å­å¤§å­¸", koreanName: "ì´í™”ì—¬ìëŒ€í•™êµ", type: "activity", icon: <Icons.Camera size={16} />, duration: "2 å°æ™‚", desc: "åƒè§€ ECC å¤§å³½è°·ã€æ­é¢¨æ ¡åœ’",
                  nextMove: { to: "åˆé¤(æ–°æ‘)", kor: "ì†Œì‹ ì´ì˜ ì‹ ì´Œë³¸ì ", time: "15 åˆ†é˜", type: "æ­¥è¡Œ/å…¬è»Š", cost: "â‚©1,200" }
              },
              { 
                  time: "11:30", title: "åˆé¤ï¼šæ–°æ‘ Sosin Isso", koreanName: "ì†Œì‹ ì´ì˜ ì‹ ì´Œë³¸ì ", type: "food", icon: <Icons.Utensils size={16} />, duration: "1.5 å°æ™‚", desc: "é¦™è¾£éç™®ã€‚", mustEat: "å¥¶æ²¹ç‡‰æ’éª¨ (í¬ë¦¼ì†Œê°ˆë¹„ì°œ)\n*å»ºè­°å¾®è¾£*\nç‚’é£¯ (ë³¶ìŒë°¥)",
                  reservationInfo: "ç¾å ´æ’éšŠ (äººæ°£åº—)", bestTime: "12:00 å‰æˆ– 13:30 å¾Œ",
                  nextMove: { to: "å»¶å—æ´", kor: "ì—°ë‚¨ë™", time: "20 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              { time: "13:30", title: "æ•£æ­¥å¾€å»¶å—æ´", koreanName: "ê²½ì˜ì„ ìˆ²ê¸¸", type: "activity", icon: <Icons.MapPin size={16} />, duration: "30 åˆ†é˜", desc: "æ²¿è‘—äº¬ç¾©ç·šæ—å‰è·¯å…¬åœ’èµ°" },
              { 
                time: "14:00", 
                title: "å»¶å—æ´å·¡ç¦®", 
                koreanName: "ì—°ë‚¨ë™", 
                type: "activity", 
                icon: <Icons.Coffee size={16} />, 
                duration: "2.5 å°æ™‚", 
                desc: "JO & DAWSON, Object æ–‡å‰µ", 
                mustEat: "ç¶“å…¸æ³•å¼åå¸ (í”„ë Œì¹˜í† ìŠ¤íŠ¸)\nå¥¶èŒ¶ (ë°€í¬í‹°)",
                shoppingGuide: [
                    { name: "Object", kor: "ì˜¤ë¸Œì íŠ¸ ì„œêµì ", desc: "å¿…è²·ï¼šæ–‡é’è²¼ç´™ (ìŠ¤í‹°ì»¤)ã€æ‰‹å¸³ (ë‹¤ì´ì–´ë¦¬)ã€å¸ƒåŒ… (ì—ì½”ë°±)\nç‰¹è‰²ï¼šæ•´æ£Ÿéƒ½å¥½é€›ï¼Œé©åˆè²·ä¼´æ‰‹ç¦®", isGift: true },
                    { name: "æ‹è²¼æ©Ÿ (Life4Cuts)", kor: "ì¸ìƒë„¤ì»·", desc: "(å¼˜å¤§/å»¶å—æ´éš¨è™•å¯è¦‹)\nå¿…åšï¼šæˆ´å¯æ„›é ­å¥—æ‹ç…§ç•™å¿µ" }
                ],
                reservationInfo: "JO&DAWSON åº§ä½å°‘éœ€å€™ä½", bestTime: "é¿é–‹ä¸‹åˆèŒ¶æ™‚æ®µ 14:00-16:00",
                nextMove: { to: "å¼˜å¤§å•†åœˆ", kor: "í™ëŒ€ì…êµ¬ì—­", time: "10 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              { 
                time: "16:30", 
                title: "å¼˜å¤§å•†åœˆé€›è¡—", 
                koreanName: "í™ëŒ€ì…êµ¬ì—­", 
                type: "activity", 
                icon: <Icons.ShoppingBag size={16} />, 
                duration: "2 å°æ™‚", 
                desc: "AK Plaza, Musinsa Standard, åœè»Šå ´è¡—",
                shoppingGuide: [
                    { name: "Musinsa Standard", kor: "ë¬´ì‹ ì‚¬ ìŠ¤íƒ ë‹¤ë“œ í™ëŒ€", desc: "ğŸ‘” ç”·è£å¿…é€›ï¼šè¥¿è£è¤² (ìŠ¬ë™ìŠ¤)ã€ç´ T (ë¬´ì§€í‹°)ã€å¤§è¡£ (ì½”íŠ¸)" },
                    { name: "Covernat", kor: "ì»¤ë²„ë‚« í™ëŒ€", desc: "ğŸ§¢ ç”·è£å¿…é€›ï¼šLogo å¤§å­¸Tã€å¸†å¸ƒåŒ… (å¹´è¼•äººæœ€æ„›)" },
                    { name: "Thisisneverthat", kor: "ë””ìŠ¤ì´ì¦ˆë„¤ë²„ëŒ“", desc: "ğŸ‘” ç”·è£å¿…é€›ï¼šè¡—é ­é¢¨å¸½Tã€å·¥è£è¤²" },
                    { name: "What it isNt", kor: "ì™€ë¦¿ì´ì¦Œ í™ëŒ€", desc: "ğŸ‘” ç”·è£å¿…é€›ï¼šå°é»ƒäºº Logo è¡›è¡£ (å¯æ„›å¡—é´‰é¢¨)" },
                    { name: "Fallett", kor: "íŒ”ë ›", desc: "ğŸ‘” ç”·è£å¿…é€›ï¼šç‰¹è‰²å¡—é´‰Tã€è¨­è¨ˆæ„Ÿè¡›è¡£" },
                    { name: "Chaakan Shoes", kor: "ì°©í•œêµ¬ë‘", desc: "ğŸ‘  å¥³å‹å¿…é€›ï¼šé«˜CPå€¼ç¾é‹ã€é´å­" },
                    { name: "Sappun", kor: "ì‚¬ë¿", desc: "ğŸ‘  å¥³å‹å¿…é€›ï¼šèˆ’é©å¥½ç©¿çš„é«˜è·Ÿé‹ã€å¹³åº•é‹" },
                    { name: "Ã…LAND", kor: "ì—ì´ëœë“œ í™ëŒ€", desc: "ğŸ‘— ç”·å¥³çš†å®œï¼šè¨­è¨ˆå¸«å“ç‰Œé¸è²¨åº—" },
                    { name: "Shoopen", kor: "ìŠˆíœ í™ëŒ€", desc: "ğŸ‘Ÿ ç”·å¥³çš†å®œï¼šå¸†å¸ƒé‹ (ìº”ë²„ìŠ¤í™”)ã€æ¶¼é‹ (ìƒŒë“¤)" }
                ],
                nextMove: { to: "Olive Young", kor: "ì˜¬ë¦¬ë¸Œì˜ í™ëŒ€", time: "5 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              {
                time: "17:30",
                title: "Olive Young è—¥å¦æƒè²¨",
                koreanName: "ì˜¬ë¦¬ë¸Œì˜ í™ëŒ€",
                type: "activity",
                icon: <Icons.ShoppingBag size={16} />,
                duration: "1 å°æ™‚",
                desc: "éŸ“åœ‹å¿…é€›è—¥å¦åº—ï¼Œè²·ä¼´æ‰‹ç¦®ã€‚",
                shoppingList: [
                    { name: "Torriden ç»å°¿é…¸ç²¾è¯", kor: "í† ë¦¬ë“  ë‹¤ì´ë¸Œì¸ ì„¸ëŸ¼", img: "https://image.oliveyoung.co.kr/uploads/images/goods/550/10/0000/0014/A00000014557501ko.jpg?l=ko" },
                    { name: "VT å¾®é‡ç²¾è¯ 100/300", kor: "VT ë¦¬ë“¤ìƒ·", img: "https://image.oliveyoung.co.kr/uploads/images/goods/550/10/0000/0019/A00000019247515ko.jpg?l=ko" },
                    { name: "Biodance è† åŸè›‹ç™½é¢è†œ", kor: "ë°”ì´ì˜¤ë˜ìŠ¤ ì½œë¼ê² ë§ˆìŠ¤í¬", img: "https://image.oliveyoung.co.kr/uploads/images/goods/550/10/0000/0018/A00000018337206ko.jpg?l=ko" },
                    { name: "Rejuran å›æ˜¥å®‰ç“¶", kor: "ë¦¬ì¥¬ë€ íëŸ¬ ì•°í”Œ", img: "https://image.oliveyoung.co.kr/uploads/images/goods/550/10/0000/0015/A00000015512807ko.jpg?l=ko" },
                    { name: "Aestura èˆ’ç·©é¢éœœ", kor: "ì—ìŠ¤íŠ¸ë¼ ì•„í† ë² ë¦¬ì–´ í¬ë¦¼", img: "https://image.oliveyoung.co.kr/uploads/images/goods/550/10/0000/0019/A00000019074903ko.jpg?l=ko" },
                    { name: "Unove è­·é«®ç´ ", kor: "ì–´ë…¸ë¸Œ ë”¥ ë°ë¯¸ì§€ íŠ¸ë¦¬íŠ¸ë¨¼íŠ¸", img: "https://image.oliveyoung.co.kr/uploads/images/goods/550/10/0000/0018/A00000018707014ko.jpg?l=ko" },
                    { name: "Abib é­šè…¥è‰æ£‰ç‰‡", kor: "ì•„ë¹„ë¸Œ ì–´ì„±ì´ˆ íŒ¨ë“œ", img: "https://image.oliveyoung.co.kr/uploads/images/goods/550/10/0000/0014/A00000014155212ko.jpg?l=ko" },
                    { name: "Orthomol å¾·åœ‹ç¶­ç”Ÿç´ ", kor: "ì˜¤ì˜ëª° ì´ë®¨", img: "https://image.oliveyoung.co.kr/uploads/images/goods/550/10/0000/0014/A00000014163331ko.jpg?l=ko" },
                    { name: "Mediheal é¢è†œ/æ£‰ç‰‡", kor: "ë©”ë””í ë§ˆìŠ¤í¬íŒ©/íŒ¨ë“œ", img: "https://image.oliveyoung.co.kr/uploads/images/goods/550/10/0000/0017/A00000017063913ko.jpg?l=ko" }
                ],
                nextMove: { to: "æ™šé¤(èŠ±èŸ¹ä¸–ç•Œ)", kor: "ê½ƒê²Œë‚˜ë¼", time: "10 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              { 
                  time: "19:00", title: "æ™šé¤ï¼šèŠ±èŸ¹ä¸–ç•Œ", koreanName: "ê½ƒê²Œë‚˜ë¼", type: "food", icon: <Icons.Utensils size={16} />, duration: "2 å°æ™‚", desc: "å¼˜å¤§é†¬æ²¹èƒèŸ¹ååº—ã€‚", mustEat: "é†¬æ²¹èƒèŸ¹å®šé£Ÿ (ê°„ì¥ê²Œì¥)\nèŸ¹è†æ‹Œé£¯ (ê²Œë”±ì§€ ë¹„ë¹”ë°¥)",
                  reservationInfo: "å»ºè­°é ç´„ (å¯è«‹é£¯åº—å¹«å¿™) / ç¾å ´éœ€ç­‰å€™", bestTime: "17:30 å‰å…¥å ´",
                  nextMove: { to: "å¼˜å¤§ Busking", kor: "í™ëŒ€ ê±·ê³ ì‹¶ì€ê±°ë¦¬", time: "5 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              { 
                  time: "21:00", title: "å¼˜å¤§ Busking", koreanName: "í™ëŒ€ ê±·ê³ ì‹¶ì€ê±°ë¦¬", type: "activity", icon: <Icons.Moon size={16} />, duration: "1 å°æ™‚", desc: "æ„Ÿå—è¡—é ­è¡¨æ¼”æ°£æ°›",
                  nextMove: { to: "å›é£¯åº—", kor: "ë‚˜ì¸íŠ¸ë¦¬ í”„ë¦¬ë¯¸ì–´ ë¡œì¹´ìš°ìŠ¤ í˜¸í…” ì„œìš¸ ìš©ì‚°", time: "10 åˆ†é˜", type: "æ­¥è¡Œ/è¨ˆç¨‹è»Š", cost: "â‚©4,000" }
              },
            ]
          },
          {
            day: 4,
            title: "å¾©å¤å¸‚å ´ & è’œå‘³é›å‚³èªª",
            date: "11/28 (å››)",
            image: "https://images.unsplash.com/photo-1580651315530-69c8e0026377?auto=format&fit=crop&w=800&q=80",
            weather: {
              condition: "ä¹¾å†·æ™´æœ—",
              temp: "0Â°C - 6Â°C",
              icon: <Icons.Sun className="text-[#F9A825]" size={24} />,
              desc: "æ¸…æ™¨éå¸¸å†·ï¼Œå¯èƒ½æ¥è¿‘ 0 åº¦ï¼Œæ³¨æ„ä¿æš–ã€‚"
            },
            events: [
              { 
                  time: "10:30", title: "âš ï¸ æ›é£¯åº—ï¼šå‰å¾€ä¹™æ”¯è·¯", koreanName: "í˜¸í…” ë” ë³´íƒ€ë‹‰ ì„¸ìš´", type: "transport", icon: <Icons.Hotel size={16} />, duration: "1 å°æ™‚", desc: "Check-out é¾å±±ï¼Œå»ºè­°æ­è¨ˆç¨‹è»Šæ¬è¡Œæ",
                  nextMove: { to: "å»£è—å¸‚å ´", kor: "ê´‘ì¥ì‹œì¥", time: "15 åˆ†é˜", type: "å…¬è»Š/æ­¥è¡Œ", cost: "â‚©1,200" }
              },
              { 
                time: "11:30", 
                title: "åˆé¤ï¼šå»£è—å¸‚å ´", 
                koreanName: "ê´‘ì¥ì‹œì¥", 
                type: "food", 
                icon: <Icons.Utensils size={16} />, 
                duration: "2 å°æ™‚", 
                desc: "é€±äº”è²ç‰›æœ‰é–‹ï¼", 
                mustEat: "ç”Ÿæ‹Œç‰›è‚‰ (ìœ¡íšŒ)\nç¶ è±†ç…é¤… (ë¹ˆëŒ€ë–¡)\néº»è—¥é£¯æ² (ë§ˆì•½ê¹€ë°¥)",
                shoppingGuide: [
                    { name: "éŸ“åœ‹æ£‰è¢«", kor: "ê²¨ìš¸ ì´ë¶ˆ", desc: "å¿…è²·ï¼šå†¬å¤©åšæ£‰è¢«\nå„ªé»ï¼šåº—å®¶æœƒå¹«å¿™çœŸç©ºå£“ç¸®ï¼Œé«”ç©è®Šå¾ˆå°å¥½å¸¶å›å°ç£", isGift: true },
                    { name: "é˜¿ç åª½èŠ±è¤²", kor: "ëª¸ë»¬ ë°”ì§€", desc: "èˆ’é©å¥½ç©¿ï¼Œé©åˆç•¶ç¡è¤²æˆ–é€é•·è¼©" }
                ],
                reservationInfo: "ä¸éœ€é ç´„ (éƒ¨åˆ†ç†±é–€æ”¤ä½éœ€æ’éšŠ)", bestTime: "é¿é–‹åˆé¤å°–å³° 12:00-13:00",
                nextMove: { to: "æ¸…æºªå·", kor: "ì²­ê³„ì²œ", time: "5 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              { time: "13:30", title: "æ¸…æºªå· / å®—å»Ÿå¤–ç‰†", koreanName: "ì²­ê³„ì²œ", type: "activity", icon: <Icons.MapPin size={16} />, duration: "2 å°æ™‚", desc: "æ•£æ­¥æ¶ˆåŒ–", nextMove: { to: "ä¸‹åˆèŒ¶", kor: "ì»¤í”¼í•œì•½ë°©", time: "10 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" } },
              { 
                  time: "15:30", title: "ä¸‹åˆèŒ¶ï¼šCoffee Hanyakbang", koreanName: "ì»¤í”¼í•œì•½ë°©", type: "food", icon: <Icons.Coffee size={16} />, duration: "1.5 å°æ™‚", desc: "å’–å•¡éŸ“è—¥æˆ¿ã€‚", mustEat: "æ‰‹æ²–æ¿¾æ›å’–å•¡ (í•„í„°ì»¤í”¼)\næƒ æ°‘å ‚ç”œé» (í˜œë¯¼ë‹¹ ë””ì €íŠ¸)",
                  reservationInfo: "ç¾å ´å€™ä½", bestTime: "ä¸‹åˆ 16:00 å¾Œè¼ƒç©º",
                  nextMove: { to: "æ™šé¤(é›æ—)", kor: "ê³„ë¦¼ì‹ë‹¹ ì¢…ë¡œ", time: "15 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              { 
                  time: "17:00", title: "æ™šé¤ï¼šé˜è·¯é›æ— (æœ¬åº—)", koreanName: "ê³„ë¦¼ì‹ë‹¹ ì¢…ë¡œ", type: "food", icon: <Icons.AlertTriangle size={16} />, duration: "2 å°æ™‚", desc: "âš ï¸ å¿…æº–æ™‚ï¼17:00 æ™šé¤é–‹é–€å°±å»ã€‚", 
                  mustEat: "è’œå‘³è¾£é›æ¹¯ (ë§ˆëŠ˜ë‹­ë„ë¦¬íƒ•)\næœ€å¾Œå¿…åŠ : åˆ€å‰Šéºµ (ì¹¼êµ­ìˆ˜)",
                  reservationInfo: "ä¸å¯é ç´„ / éœ€ç¾å ´æ’éšŠ", bestTime: "17:00 é–‹é–€å³å…¥åº§",
                  nextMove: { to: "æ˜æ´å•†åœˆ", kor: "ëª…ë™", time: "20 åˆ†é˜", type: "å…¬è»Š", cost: "â‚©1,400" }
              },
              { 
                time: "19:00", 
                title: "æ˜æ´å•†åœˆ", 
                koreanName: "ëª…ë™", 
                type: "activity", 
                icon: <Icons.ShoppingBag size={16} />, 
                duration: "2 å°æ™‚", 
                desc: "æ–°ä¸–ç•Œç™¾è²¨ç‡ˆé£¾ã€‚", 
                mustEat: "æ˜æ´é¤ƒå­ï¼šåˆ€å‰Šéºµ (ì¹¼êµ­ìˆ˜)\nè’¸é¤ƒ (ë§Œë‘)",
                reservationInfo: "æ˜æ´é¤ƒå­éœ€ç¾å ´æ’éšŠ (ç¿»æ¡Œå¿«)", bestTime: "20:00 å¾Œè¼ƒç©º",
                shoppingGuide: [
                    { name: "ABC Mart", kor: "ABCë§ˆíŠ¸ ëª…ë™", desc: "å„ç¨®å“ç‰Œé‹æ¬¾ï¼Œå¸¸æœ‰ç‰¹åƒ¹" },
                    { name: "Nike Seoul", kor: "ë‚˜ì´í‚¤ ì„œìš¸", desc: "å®¢è£½åŒ– T-shirtã€å¸½å­ (å¯ç¹¡éŸ“æ–‡)" },
                    { name: "MLB", kor: "MLB ëª…ë™", desc: "å¿…è²·å¸½å­ã€è€çˆ¹é‹" },
                    { name: "HBAF æä»æœ", kor: "ë°”í”„ ì•„ëª¬ë“œ ëª…ë™", desc: "å¿…è²·ï¼šèœ‚èœœå¥¶æ²¹ã€èŠ¥æœ«ã€ç‰ç±³å£å‘³å¤§ç¦®åŒ…", isGift: true },
                    { name: "TNF White Label", kor: "ë…¸ìŠ¤í˜ì´ìŠ¤ í™”ì´íŠ¸ë¼ë²¨ ëª…ë™", desc: "å¿…è²·ï¼šéŸ“åœ‹é™å®šç‰ˆç™½æ¨™" },
                    { name: "Gentle Monster", kor: "ì  í‹€ëª¬ìŠ¤í„°", desc: "å¿…è²·ï¼šæ½®æµå¢¨é¡ï¼Œæ¯”å°ç£ä¾¿å®œä¸”æ¬¾å¼å¤š" },
                    { name: "Lotte Young Plaza", kor: "ë¡¯ë°ì˜í”Œë¼ì", desc: "ç‰¹è‰²ï¼šå¹´è¼•å“ç‰Œèšé›†åœ°ï¼Œå¥½é€›å¥½è²·" }
                ],
                nextMove: { to: "å›é£¯åº—", kor: "í˜¸í…” ë” ë³´íƒ€ë‹‰ ì„¸ìš´", time: "10 åˆ†é˜", type: "è¨ˆç¨‹è»Š", cost: "â‚©5,000" }
              },
              { time: "21:00", title: "é£¯åº— Check-in", koreanName: "í˜¸í…” ë” ë³´íƒ€ë‹‰ ì„¸ìš´", type: "stay", icon: <Icons.MapPin size={16} />, duration: "Check-in", desc: "HOTEL THE BOTANIK SEWOON" },
            ]
          },
          {
            day: 5,
            title: "ç›Šå–„æ´ & æ»¿è¼‰è€Œæ­¸",
            date: "11/29 (äº”)",
            image: "https://images.unsplash.com/photo-1535189043414-47a3c49a0bed?auto=format&fit=crop&w=800&q=80", // ä½¿ç”¨ Day 3 åœ–ç‰‡ä»£æ›¿ï¼Œå› ç‚º Day 5 åŸåœ–å¤±æ•ˆ
            weather: {
              condition: "å¤šé›²å›æº«",
              temp: "3Â°C - 11Â°C",
              icon: <Icons.Cloud className="text-gray-400" size={24} />,
              desc: "ç¨å¾®å›æº«ï¼Œé©åˆåœ¨ç›Šå–„æ´æ•£æ­¥é€›è¡—ã€‚"
            },
            events: [
              { time: "10:00", title: "é£¯åº—é€€æˆ¿", koreanName: "í˜¸í…” ë¡œë¹„", type: "stay", icon: <Icons.CheckSquare size={16} />, duration: "30 åˆ†é˜", desc: "è¡Œæå¯„æ”¾æ«ƒå°", nextMove: { to: "ç›Šå–„æ´", kor: "ìµì„ ë™ í•œì˜¥ê±°ë¦¬", time: "15 åˆ†é˜", type: "æ­¥è¡Œ/å…¬è»Š", cost: "â‚©1,200" } },
              { 
                time: "10:30", 
                title: "ç›Šå–„æ´éŸ“å±‹æ‘", 
                koreanName: "ìµì„ ë™ í•œì˜¥ê±°ë¦¬", 
                type: "activity", 
                icon: <Icons.ShoppingBag size={16} />, 
                duration: "2 å°æ™‚", 
                desc: "Hergeâ€™, Tour a Tour", 
                mustEat: "Tour a Tourï¼šå„ç¨®å£å‘³é¹½éºµåŒ… (ì†Œê¸ˆë¹µ)\nHergeâ€™ï¼šå¯é Œ (í¬ë¡œì™€ìƒ)",
                reservationInfo: "ç†±é–€éºµåŒ…åº—å»ºè­°æ—©é»å»", bestTime: "11:00 å‰",
                shoppingGuide: [
                    { name: "å¾©å¤æœé£¾åº—", kor: "ë¹ˆí‹°ì§€ ìƒµ", desc: "ç‰¹è‰²ï¼šå¤è‘—ã€è•¾çµ²æ´‹è£" },
                    { name: "æ‰‹ä½œé£¾å“åº—", kor: "ì•…ì„¸ì‚¬ë¦¬", desc: "ç‰¹è‰²ï¼šæˆ’æŒ‡ã€é …éŠï¼Œé¢¨æ ¼ç¨ç‰¹" },
                    { name: "æ–‡å‰µå°åº—", kor: "ì†Œí’ˆìƒµ", desc: "å¿…è²·ï¼šæ˜ä¿¡ç‰‡ (ì—½ì„œ)ã€é¦™æ°›è Ÿç‡­ (ìº”ë“¤)", isGift: true }
                ],
                nextMove: { to: "åˆé¤(å­”é™µ)", kor: "ê³µë¦‰ë‹­í•œë§ˆë¦¬ ë™ëŒ€ë¬¸ì ", time: "20 åˆ†é˜", type: "å…¬è»Š", cost: "â‚©1,400" }
              },
              { 
                  time: "12:30", title: "åˆé¤ï¼šå­”é™µä¸€éš»é›", koreanName: "ê³µë¦‰ë‹­í•œë§ˆë¦¬ ë™ëŒ€ë¬¸ì ", type: "food", icon: <Icons.Utensils size={16} />, duration: "1.5 å°æ™‚", desc: "æ±å¤§é–€åº—ã€‚", mustEat: "ä¸€éš»é› (ë‹­í•œë§ˆë¦¬)\nå¿…åŠ é»ï¼šæµ·è‹”é›è›‹ç²¥ (ê³„ë€ì£½)",
                  reservationInfo: "ç¾å ´æ’éšŠ (äººæ½®çœ¾å¤š)", bestTime: "11:30 å‰å…¥å ´",
                  nextMove: { to: "DDP", kor: "ë™ëŒ€ë¬¸ë””ìì¸í”Œë¼ì", time: "10 åˆ†é˜", type: "æ­¥è¡Œ", cost: "0" }
              },
              { time: "14:00", title: "DDP æ±å¤§é–€è¨­è¨ˆå»£å ´", koreanName: "ë™ëŒ€ë¬¸ë””ìì¸í”Œë¼ì", type: "activity", icon: <Icons.Camera size={16} />, duration: "1.5 å°æ™‚", desc: "æœ€å¾Œæ‹ç…§ç•™å¿µ", nextMove: { to: "å›é£¯åº—æ‹¿è¡Œæ", kor: "í˜¸í…” ë” ë³´íƒ€ë‹‰ ì„¸ìš´", time: "20 åˆ†é˜", type: "å…¬è»Š/åœ°éµ", cost: "â‚©1,400" } },
              { time: "15:30", title: "è¿”å›é£¯åº—æ‹¿è¡Œæ", koreanName: "í˜¸í…” ë” ë³´íƒ€ë‹‰ ì„¸ìš´", type: "transport", icon: <Icons.MapPin size={16} />, duration: "30 åˆ†é˜", desc: "æº–å‚™å‰å¾€æ©Ÿå ´", nextMove: { to: "ä»å·æ©Ÿå ´", kor: "ì¸ì²œêµ­ì œê³µí•­", time: "80 åˆ†é˜", type: "æ©Ÿå ´å·´å£« 6015", cost: "â‚©17,000" } },
              { 
                  time: "16:00", title: "å‡ºç™¼å¾€ä»å·æ©Ÿå ´", koreanName: "ì¸ì²œêµ­ì œê³µí•­", type: "transport", icon: <Icons.Bus size={16} />, duration: "1.5 å°æ™‚", 
                  desc: (<span>âš ï¸ é€±äº”æ˜“å¡è»Šï¼æ­ 6015 å·´å£«ã€‚<br/><span className="bg-yellow-200 px-1 rounded text-yellow-800 font-bold inline-block mt-1">ğŸšŒ æ­ä¹˜é»ï¼šåœ‹éƒ½é£¯åº— (Kukdo Hotel) / ä¹™æ”¯è·¯4è¡—</span></span>),
                  isWarning: true,
                  nextMove: { to: "æŠµé”å°ç£", kor: "íƒ€ì˜¤ìœ„ì•ˆ ê³µí•­ ë„ì°©", time: "ç´„ 2.5 å°æ™‚", type: "é£›æ©Ÿ", cost: "-" }
              },
              { time: "17:30", title: "ä»å·æ©Ÿå ´è²´è³“å®¤", koreanName: "ì¸ì²œê³µí•­ ë¼ìš´ì§€", type: "food", icon: <Icons.Coffee size={16} />, duration: "2 å°æ™‚", desc: "é•·æ¦®èˆªç©º/æ˜Ÿç©ºè¯ç›Ÿè²´è³“å®¤è³‡è¨Šã€‚", link: "https://www.evaair.com/zh-tw/fly-prepare/at-the-airport/worldwide-airports/?countryCode=ICN" },
              { 
                time: "19:45", title: "æ­ä¹˜é•·æ¦®èˆªç©º (BR159)", koreanName: "ì—ë°”í•­ê³µ BR159", type: "transport", icon: <Icons.Plane size={16} />, duration: "2å°æ™‚55åˆ†",
                desc: (<span>ICN ç¬¬1èˆªå»ˆ âœˆï¸ TPE ç¬¬2èˆªå»ˆ<br/><span className="bg-green-100 px-1 rounded text-green-800 font-bold inline-block mt-1">çš‡ç’½æ¡‚å† è‰™ (I) / è¨‚ä½ä»£è™Ÿï¼šD4NUQ8</span></span>),
                isWarning: false
              },
              { 
                  time: "21:40", title: "æŠµé”å°ç£ & æ©Ÿå ´æ¥é€", koreanName: "íƒ€ì˜¤ìœ„ì•ˆ ê³µí•­ ë„ì°©", type: "transport", icon: <Icons.Car size={16} />, duration: "æŠµé”", desc: "è‚¯é©›é ç´„ F14463095 (é©—è­‰ç¢¼ 9179)ã€‚", link: "https://68666.tw/t075",
                  isTaiwan: true 
              },
            ]
          },
        ];

        // --- 3. Helper Functions (å¿…é ˆåœ¨ KoreaTripApp ä¹‹å‰å®šç¾©) ---

        // CopyRow Component
        const CopyRow = ({ kor, ch, pron }) => (
          <div className="flex justify-between items-center p-3 hover:bg-gray-50 rounded-2xl cursor-pointer active:bg-gray-100 border border-transparent hover:border-gray-100 transition-all active:scale-[0.99]" onClick={() => navigator.clipboard.writeText(kor)}>
            <div><p className="font-bold text-gray-800 text-lg mb-0.5">{kor}</p><p className="text-xs text-gray-400 font-medium">{pron} â€¢ {ch}</p></div>
            <Icons.ChevronRight size={18} className="text-gray-300" />
          </div>
        );

        // NavButton Component
        const NavButton = ({ active, onClick, icon, label }) => (
          <button onClick={onClick} className={`flex flex-col items-center justify-center w-16 py-1.5 rounded-xl transition-all duration-300 ${active ? 'text-[#4A90E2] bg-blue-50/80 scale-105 shadow-sm' : 'text-gray-400 hover:text-gray-600 hover:bg-gray-50/50'}`}>
            {icon}
            <span className="text-[10px] mt-1 font-medium">{label}</span>
          </button>
        );

        // Tax Refund Calculator Component
        function TaxRefundCalculator({ onClose }) {
            const [amount, setAmount] = useState('');
            const [refund, setRefund] = useState(0);
            const exchangeRate = 0.024; // KRW to TWD
            
            const calculateRefund = (val) => {
                const price = parseInt(val);
                if (isNaN(price) || price < 30000) {
                    setRefund(0);
                    return;
                }
                // ç°¡æ˜“é€€ç¨…ç´šè·
                if (price < 50000) setRefund(1500); 
                else if (price < 75000) setRefund(3500);
                else if (price < 100000) setRefund(5000);
                else if (price < 125000) setRefund(6000);
                else if (price < 150000) setRefund(7500);
                else if (price < 175000) setRefund(9000);
                else if (price < 200000) setRefund(10000);
                else setRefund(Math.floor(price * 0.06)); // 20è¬ä»¥ä¸Šç´„ 6%
            };

            const handleInput = (e) => {
                const val = e.target.value;
                setAmount(val);
                calculateRefund(val);
            };

            return (
                <div className="fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm flex flex-col justify-center items-center p-4 text-center animate-in fade-in duration-200" onClick={onClose}>
                    <div className="bg-white text-gray-900 p-6 rounded-3xl w-full max-w-sm shadow-2xl relative" onClick={(e) => e.stopPropagation()}>
                        <button onClick={onClose} className="absolute top-4 right-4 text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full p-1"><Icons.X size={20} /></button>
                        <div className="flex items-center justify-center gap-2 mb-6 text-[#4A90E2]">
                            <Icons.DollarSign size={24} className="fill-[#4A90E2]" />
                            <span className="font-bold text-xl">é€€ç¨…è¨ˆç®—æ©Ÿ</span>
                        </div>
                        
                        <div className="space-y-4">
                            <div>
                                <label className="text-xs font-bold text-gray-400 block mb-1 text-left">æ¶ˆè²»é‡‘é¡ (KRW)</label>
                                <input 
                                    type="number" 
                                    value={amount}
                                    onChange={handleInput}
                                    placeholder="è¼¸å…¥éŸ“å…ƒé‡‘é¡..."
                                    className="w-full bg-gray-50 border border-gray-200 rounded-xl p-3 text-lg font-bold focus:outline-none focus:ring-2 focus:ring-blue-500"
                                />
                            </div>

                            <div className="bg-blue-50 p-4 rounded-xl border border-blue-100">
                                <div className="flex justify-between items-center mb-1">
                                    <span className="text-sm text-gray-600">é ä¼°é€€ç¨…é‡‘é¡</span>
                                    <div className="text-right">
                                        <div className="text-lg font-bold text-blue-600">â‚©{refund.toLocaleString()}</div>
                                        <div className="text-xs text-blue-400 font-medium">â‰ˆ NT${Math.round(refund * exchangeRate).toLocaleString()}</div>
                                    </div>
                                </div>
                                <div className="flex justify-between items-center pt-2 border-t border-blue-100 mt-2">
                                    <span className="text-sm text-gray-600">å¯¦éš›èŠ±è²»</span>
                                    <div className="text-right">
                                        <div className="text-xl font-extrabold text-gray-800">â‚©{(amount - refund).toLocaleString()}</div>
                                        <div className="text-xs text-gray-400 font-medium">â‰ˆ NT${Math.round((amount - refund) * exchangeRate).toLocaleString()}</div>
                                    </div>
                                </div>
                            </div>
                            <p className="text-xs text-gray-400 text-left">* æ­¤ç‚ºé ä¼°å€¼ï¼Œå¯¦éš›é€€ç¨…ä¾å„é€€ç¨…å…¬å¸è¦å®šç‚ºæº–ã€‚å–®ç­†æ»¿ 30,000 éŸ“å…ƒå³å¯é€€ç¨…ã€‚</p>
                        </div>
                    </div>
                </div>
            );
        }

        // --- 4. View Components (å¿…é ˆåœ¨ KoreaTripApp ä¹‹å‰å®šç¾©) ---

        // EsimContent
        function EsimContent() {
            const [storedImages, setStoredImages] = useState({});

            useEffect(() => {
                const loadedImages = {};
                esimData.forEach(sim => {
                    const saved = localStorage.getItem(`esim_img_${sim.id}`);
                    if (saved) loadedImages[sim.id] = saved;
                });
                setStoredImages(loadedImages);
            }, []);

            const handleImageUpload = (id, event) => {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        const base64String = reader.result;
                        try {
                            localStorage.setItem(`esim_img_${id}`, base64String);
                            setStoredImages(prev => ({ ...prev, [id]: base64String }));
                        } catch (e) {
                            alert("åœ–ç‰‡æª”æ¡ˆå¤ªå¤§ï¼Œç„¡æ³•å„²å­˜ã€‚è«‹å˜—è©¦æˆªåœ–æˆ–ç¸®å°åœ–ç‰‡å¾Œå†è©¦ã€‚");
                        }
                    };
                    reader.readAsDataURL(file);
                }
            };

            const clearImage = (id) => {
                localStorage.removeItem(`esim_img_${id}`);
                setStoredImages(prev => {
                    const newState = { ...prev };
                    delete newState[id];
                    return newState;
                });
            };

            const copyCode = (code) => {
                navigator.clipboard.writeText(code);
            };

            return (
                <div className="space-y-6 text-left">
                    {esimData.map(sim => (
                        <div key={sim.id} className="bg-gray-50 rounded-2xl border border-gray-200 overflow-hidden">
                            <div className="p-4 border-b border-gray-200 bg-gray-100">
                                <h3 className="font-bold text-gray-800 text-sm">{sim.name}</h3>
                                <p className="text-[10px] text-gray-500 mt-1">è¨‚å–®ç·¨è™Ÿ: {sim.orderNo}</p>
                            </div>
                            <div className="p-4">
                                <div className="mb-4">
                                    <label className="text-[10px] font-bold text-gray-400 block mb-1">å•Ÿç”¨ä»£ç¢¼ (Activation Code)</label>
                                    <div className="flex items-center gap-2">
                                        <code className="flex-1 bg-white p-2 rounded-lg text-[10px] break-all font-mono text-gray-600 border border-gray-200">
                                            {sim.code}
                                        </code>
                                        <button 
                                            onClick={() => copyCode(sim.code)}
                                            className="bg-blue-500 text-white p-2 rounded-lg active:scale-95 transition-transform"
                                        >
                                            <Icons.Copy size={14} />
                                        </button>
                                    </div>
                                </div>

                                <div className="border-t border-gray-200 pt-3">
                                    <label className="text-[10px] font-bold text-gray-400 block mb-2">QR Code åœ–ç‰‡</label>
                                    {storedImages[sim.id] ? (
                                        <div className="relative group">
                                            <img src={storedImages[sim.id]} alt="QR Code" className="w-full rounded-lg border border-gray-200" />
                                            <button 
                                                onClick={() => clearImage(sim.id)}
                                                className="absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-full shadow-md opacity-80 hover:opacity-100"
                                            >
                                                <Icons.X size={12} />
                                            </button>
                                        </div>
                                    ) : (
                                        <div className="relative">
                                            <input 
                                                type="file" 
                                                accept="image/*"
                                                onChange={(e) => handleImageUpload(sim.id, e)}
                                                className="absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"
                                            />
                                            <div className="border-2 border-dashed border-gray-300 rounded-lg p-4 flex flex-col items-center justify-center text-gray-400 gap-1 bg-white hover:bg-gray-50 transition-colors">
                                                <Icons.Upload size={20} />
                                                <span className="text-xs font-medium">â• åŠ å…¥ QR Code ç…§ç‰‡</span>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            );
        }

        // ChecklistView
        function ChecklistView() {
          const [todos, setTodos] = useState(initialTodos);
          const toggleTodo = (id) => setTodos(todos.map(t => t.id === id ? { ...t, done: !t.done } : t));
          const completedCount = todos.filter(t => t.done).length;
          const progress = Math.round((completedCount / todos.length) * 100);

          return (
            <div className="p-5">
              <div className="bg-white p-6 rounded-3xl shadow-sm border border-gray-100 mb-7">
                <div className="flex justify-between items-end mb-3">
                  <h2 className="text-xl font-extrabold text-gray-800">æº–å‚™é€²åº¦</h2>
                  <span className="text-[#4A90E2] font-extrabold text-2xl">{progress}%</span>
                </div>
                <div className="w-full bg-gray-100 rounded-full h-3 overflow-hidden">
                  <div className="bg-gradient-to-r from-[#4A90E2] to-[#5B8FF9] h-3 rounded-full transition-all duration-700 ease-out" style={{ width: `${progress}%` }}></div>
                </div>
              </div>
              <div className="space-y-3">
                {todos.map(todo => (
                  <div key={todo.id} onClick={() => toggleTodo(todo.id)} className={`flex items-center p-4 rounded-2xl cursor-pointer transition-all duration-300 border active:scale-[0.98] ${todo.done ? 'bg-gray-50 border-transparent opacity-50' : 'bg-white border-gray-100 shadow-sm hover:shadow-md hover:-translate-y-0.5'}`}>
                    <div className={`w-6 h-6 rounded-full border-[2.5px] mr-4 flex items-center justify-center transition-colors ${todo.done ? 'bg-[#4A90E2] border-[#4A90E2]' : 'border-gray-300'}`}>
                      {todo.done && <Icons.CheckSquare size={14} className="text-white" />}
                    </div>
                    <span className={`text-[15px] font-medium transition-colors ${todo.done ? 'line-through text-gray-400' : 'text-gray-700'}`}>{todo.text}</span>
                  </div>
                ))}
              </div>
            </div>
          );
        }

        // InfoView
        function InfoView({ onOpenCalc }) {
            return (
                <div className="p-5 space-y-5">
                    {/* Tools Grid */}
                    <div className="grid grid-cols-2 gap-3">
                        <button onClick={onOpenCalc} className="bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center gap-2 hover:bg-gray-50 transition-all">
                            <div className="bg-blue-100 p-2 rounded-full text-blue-600"><Icons.DollarSign size={24} /></div>
                            <span className="font-bold text-gray-700 text-sm">é€€ç¨…è¨ˆç®—æ©Ÿ</span>
                        </button>
                        <button onClick={() => window.open('https://papago.naver.com/', '_blank')} className="bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-col items-center gap-2 hover:bg-gray-50 transition-all">
                            <div className="bg-green-100 p-2 rounded-full text-green-600"><Icons.Languages size={24} /></div>
                            <span className="font-bold text-gray-700 text-sm">Papago ç¿»è­¯</span>
                        </button>
                        <button onClick={() => window.open('https://map.hanchao.com/subway/seoul.html', '_blank')} className="col-span-2 bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-row items-center justify-center gap-3 hover:bg-gray-50 transition-all">
                            <div className="bg-yellow-100 p-2 rounded-full text-yellow-600"><Icons.Map size={24} /></div>
                            <span className="font-bold text-gray-700 text-sm">ä¸­æ–‡åœ°éµåœ– (éŸ“å·¢)</span>
                        </button>
                    </div>

                    <div className="bg-[#FFEDD5]/70 p-6 rounded-3xl border border-[#E67E22]/10 shadow-sm">
                        <h3 className="font-extrabold text-[#E67E22] mb-3 flex items-center gap-2 text-lg"><Icons.Info size={20} /> ç·Šæ€¥è¯çµ¡</h3>
                        <ul className="text-sm text-[#E67E22] space-y-2 font-medium ml-1">
                        <li>â€¢ è­¦å¯Ÿå±€ï¼š112</li>
                        <li>â€¢ ç«è­¦/æ€¥æ•‘ï¼š119</li>
                        <li>â€¢ æ—…éŠè«®è©¢ç†±ç·šï¼š1330 (æœ‰ä¸­æ–‡æœå‹™)</li>
                        <li>â€¢ å¤–äº¤éƒ¨æ€¥é›£æ•‘åŠ©ï¼š02-2128-1540</li>
                        </ul>
                    </div>
                    <div className="bg-white p-5 rounded-3xl border border-gray-100 shadow-sm">
                        <h3 className="font-extrabold text-gray-800 mb-4 text-lg">å¯¦ç”¨éŸ“èª (é»æ“Šè¤‡è£½)</h3>
                        <div className="space-y-2">
                        <CopyRow kor="í™”ì¥ì‹¤ì´ ì–´ë””ì˜ˆìš”?" ch="æ´—æ‰‹é–“åœ¨å“ªè£¡ï¼Ÿ" pron="Hwa-jang-sil" />
                        <CopyRow kor="ì–¼ë§ˆì˜ˆìš”?" ch="å¤šå°‘éŒ¢ï¼Ÿ" pron="Ol-ma-ye-yo" />
                        <CopyRow kor="ì´ê±° ì£¼ì„¸ìš”." ch="è«‹çµ¦æˆ‘é€™å€‹ã€‚" pron="I-go ju-se-yo" />
                        <CopyRow kor="ê°ì‚¬í•©ë‹ˆë‹¤." ch="è¬è¬ã€‚" pron="Kam-sa-ham-ni-da" />
                        <CopyRow kor="ì˜ì–´ ë©”ë‰´ ìˆì–´ìš”?" ch="æœ‰è‹±æ–‡èœå–®å—ï¼Ÿ" pron="Eng menu?" />
                        <CopyRow kor="ëœ ë§µê²Œ í•´ì£¼ì„¸ìš”." ch="è«‹åšä¸è¾£ä¸€é»ã€‚" pron="Deol maep-ge" />
                        </div>
                    </div>
                    <div className="bg-[#EBF5FF]/70 p-6 rounded-3xl border border-[#4A90E2]/10 shadow-sm">
                        <h3 className="font-extrabold text-[#4A90E2] mb-3 text-lg flex items-center gap-2"><Icons.Bus size={20}/> äº¤é€šå°æ’‡æ­¥</h3>
                        <ul className="text-sm text-[#4A90E2] space-y-2 list-disc list-inside font-medium ml-1">
                        <li>åœ°éµè½‰ä¹˜æ™‚æ³¨æ„è…³ä¸‹é¡è‰²æ¨™ç¤º</li>
                        <li>å…¬è»Šä¸Šä¸‹è»Šéƒ½è¦åˆ·å¡</li>
                        <li>Naver Map æ¯” Google Maps æ›´æº–ç¢º</li>
                        <li>è¨ˆç¨‹è»Šå«è»Šå¯ç”¨ Uber æˆ– Kakao T</li>
                        </ul>
                    </div>
                </div>
            );
        }

        // ItineraryView
        function ItineraryView({ onZoom }) {
          const [selectedDay, setSelectedDay] = useState(1);
          const currentDayData = initialItinerary.find(d => d.day === selectedDay);
          const exchangeRate = 0.024; // KRW to TWD

          const formatCurrency = (val) => {
            if (!val || val === '-' || val === '0') return '';
            const krw = parseInt(val.replace(/[^0-9]/g, ''), 10);
            if (isNaN(krw)) return '';
            const twd = Math.round(krw * exchangeRate);
            return ` â‰ˆ NT$${twd}`;
          };

          const openNaverMap = (koreanName) => {
            // ä½¿ç”¨ Naver Map æ‰‹æ©Ÿç¶²é ç‰ˆæœå°‹ (fallback)
            // å˜—è©¦ä½¿ç”¨ URL Scheme å–šé†’ App: nmap://search?query={æŸ¥è©¢è©}&appname={æ‚¨çš„Appåç¨±}
            const appUrl = `nmap://search?query=${encodeURIComponent(koreanName)}&appname=com.example.myapp`;
            // å¦‚æœæ²’æœ‰ App å‰‡ä½¿ç”¨ç¶²é ç‰ˆ
            const webUrl = `https://m.map.naver.com/search2/search.naver?query=${encodeURIComponent(koreanName)}`;
            
            // å˜—è©¦é–‹å•Ÿ App
            window.location.href = appUrl;
            
            // è¨­å®šä¸€å€‹ timeoutï¼Œå¦‚æœ App æ²’æœ‰é–‹å•Ÿå‰‡è·³è½‰åˆ°ç¶²é ç‰ˆ
            setTimeout(() => {
                window.open(webUrl, '_blank');
            }, 500);
          };
          
          // è·¯ç·šæŒ‰éˆ•åŠŸèƒ½ï¼šä½¿ç”¨ Naver Map App é€£çµ
          const openRoute = (from, to) => {
            // nmap://route/public?slat=&slng=&sname={èµ·é»}&dlat=&dlng=&dname={çµ‚é»}&appname={æ‚¨çš„Appåç¨±}
            // è‹¥ App å–šé†’å¤±æ•—å‰‡ä½¿ç”¨ç¶²é ç‰ˆ
            const appUrl = `nmap://route/public?sname=${encodeURIComponent(from)}&dname=${encodeURIComponent(to)}&appname=com.example.myapp`;
            const webUrl = `https://m.map.naver.com/route.nhn?menu=route&sname=${encodeURIComponent(from)}&dname=${encodeURIComponent(to)}&pathType=1`;
            
            window.location.href = appUrl;
            setTimeout(() => { window.open(webUrl, '_blank'); }, 500);
          };

          const openLiveWeather = () => {
            window.open('https://weather.naver.com/today/09140104', '_blank');
          };

          const copyToClipboard = (text) => {
            navigator.clipboard.writeText(text);
          };
          
          // åˆ¤æ–·æ˜¯å¦ç‚ºè­¦å‘Š/é‡è¦æè¿° (ä¾‹å¦‚æ©Ÿå ´å·´å£«)
          const isWarningDesc = (event) => {
              return event.isWarning || (typeof event.desc === 'string' && event.desc.includes('âš ï¸'));
          };

          // æ¸²æŸ“æè¿°å…§å®¹ (æ”¯æ´ JSX æˆ– String)
          const renderDesc = (event) => {
              return event.desc;
          };

          return (
            <div className="pb-4">
              {/* æ—¥æœŸé¸æ“‡å™¨ */}
              <div className="sticky top-0 bg-[#F8F9FA]/95 backdrop-blur-sm p-3 pt-4 flex gap-2 overflow-x-auto scrollbar-hide z-10 pl-4">
                {initialItinerary.map((d) => (
                  <button key={d.day} onClick={() => setSelectedDay(d.day)} className={`flex-shrink-0 px-5 py-2.5 rounded-full text-sm font-bold transition-all duration-300 whitespace-nowrap shadow-sm ${selectedDay === d.day ? 'bg-gradient-to-r from-[#4A90E2] to-[#5B8FF9] text-white shadow-md transform scale-[1.02]' : 'bg-white text-gray-500 border border-gray-100 hover:bg-gray-50'}`}>
                    Day {d.day}
                  </button>
                ))}
              </div>

              <div className="p-5 pt-2">
                {/* æ¯æ—¥ä¸»é¡Œå¤§åœ– */}
                <div className="relative w-full h-48 rounded-3xl overflow-hidden shadow-md mb-6 group">
                    <img src={currentDayData.image} alt={currentDayData.title} className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105" />
                    <div className="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end p-5">
                        <h2 className="text-2xl font-extrabold text-white tracking-tight drop-shadow-md">{currentDayData.title}</h2>
                        <p className="text-white/90 text-sm mt-1 flex items-center gap-1.5 font-medium drop-shadow-md">
                            <Icons.Calendar size={14} /> {currentDayData.date}
                        </p>
                    </div>
                </div>

                {/* å¤©æ°£å¡ç‰‡ */}
                <div className="bg-gradient-to-br from-[#EBF5FF] to-[#F0F7FF] p-5 rounded-3xl shadow-sm border border-blue-50/50 mb-7 relative overflow-hidden">
                    <div className="flex items-center justify-between z-10 relative">
                        <div className="flex items-center gap-4">
                            <div className="bg-white p-3 rounded-2xl shadow-sm">{currentDayData.weather.icon}</div>
                            <div>
                                <p className="font-bold text-gray-800 flex items-center gap-2 text-lg">{currentDayData.weather.condition}<span className="text-xs font-medium text-blue-600 bg-blue-100 px-2 py-0.5 rounded-full">é å ±</span></p>
                                <p className="text-sm text-gray-600 flex items-center gap-1.5 mt-1 font-medium"><Icons.Thermometer size={16} className="text-gray-400" />{currentDayData.weather.temp}</p>
                            </div>
                        </div>
                        <button onClick={openLiveWeather} className="flex items-center gap-1 bg-white hover:bg-blue-50 hover:text-[#4A90E2] text-[#4A90E2] text-xs px-3 py-2 rounded-full shadow-sm border border-blue-100 transition-all font-medium active:scale-95">
                            <Icons.ExternalLink size={13} /> é¦–çˆ¾å³æ™‚å¤©æ°£
                        </button>
                    </div>
                    <p className="text-xs text-[#4A90E2]/80 mt-4 pt-3 border-t border-blue-100/50 font-medium flex items-center gap-1">
                        ğŸ’¡ {currentDayData.weather.desc}
                    </p>
                </div>

                {/* æ™‚é–“è»¸ */}
                <div className="space-y-7 relative border-l-[2px] border-gray-100 ml-4 pl-7">
                  {currentDayData.events.map((event, index) => (
                    <div key={index} className="relative group">
                      <div className={`absolute -left-[37px] top-1.5 w-5 h-5 rounded-full border-[3px] border-white shadow-sm flex items-center justify-center transition-all
                        ${event.type === 'food' ? 'bg-[#FF9F43] shadow-orange-100' : 
                          event.type === 'transport' ? 'bg-[#28C76F] shadow-green-100' : 
                          event.type === 'stay' ? 'bg-[#7367F0] shadow-indigo-100' : 
                          isWarningDesc(event) ? 'bg-[#EA5455] shadow-red-100' : 'bg-[#4A90E2] shadow-blue-100'}`}
                      >
                      </div>
                      
                      <div className={`bg-white p-5 rounded-3xl shadow-sm border transition-all hover:shadow-md active:scale-[0.995] ${isWarningDesc(event) ? 'border-red-100 bg-red-50/30' : 'border-gray-100'}`}>
                        <div className="flex justify-between items-start mb-3">
                          <div className="flex flex-col gap-1">
                            <div className="flex items-center gap-2">
                                <span className={`font-bold text-sm px-2.5 py-1 rounded-lg w-fit ${isWarningDesc(event) ? 'text-[#EA5455] bg-[#EA5455]/10' : 'text-[#4A90E2] bg-[#4A90E2]/10'}`}>{event.time}</span>
                                {event.shoppingGuide && event.shoppingGuide.some && event.shoppingGuide.some(item => item.isGift) && (
                                    <span className="text-[10px] font-bold text-white bg-[#FF69B4] px-2 py-0.5 rounded-full shadow-sm flex items-center gap-1">
                                        <Icons.Gift size={10} /> ä¼´æ‰‹ç¦®æ¨è–¦
                                    </span>
                                )}
                            </div>
                            {event.duration && (
                                <span className="text-[11px] text-gray-500 flex items-center gap-1 font-medium mt-1">
                                    <Icons.Timer size={12} className="text-gray-400" /> é è¨ˆåœç•™ï¼š{event.duration}
                                </span>
                            )}
                          </div>
                          <span className="text-gray-300">{event.icon}</span>
                        </div>
                        <h3 className="text-xl font-extrabold text-gray-800 mb-2 leading-tight">{event.title}</h3>
                        
                        {/* eSIM æŒ‰éˆ• */}
                        {event.esim && (
                          <div className="mt-3 mb-4">
                            <button 
                              onClick={() => onZoom({ type: 'esim' })}
                              className="w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white p-3 rounded-2xl flex items-center justify-center gap-2 shadow-md active:scale-95 transition-transform"
                            >
                              <Icons.SimCard size={20} />
                              <span className="font-bold">æŸ¥çœ‹ eSIM æ†‘è­‰ (å•Ÿç”¨ç¢¼)</span>
                            </button>
                          </div>
                        )}

                        {event.mustEat && (
                          <div className="mt-4 mb-3 bg-gradient-to-r from-[#FFF3E0] to-[#FFEDD5] border-0 p-4 rounded-2xl cursor-pointer hover:shadow-sm transition-all group/food" onClick={() => onZoom({ title: event.title, items: event.mustEat, type: 'food', koreanName: event.koreanName })}>
                            <div className="flex justify-between items-start mb-2">
                                <div className="flex items-center gap-2 text-[#E67E22] font-extrabold text-sm">
                                    <Icons.ThumbsUp size={16} className="fill-[#E67E22]" />
                                    å¿…é»æ¨è–¦
                                </div>
                                <Icons.Maximize2 size={16} className="text-[#E67E22]/50 group-hover/food:opacity-100 transition-opacity" />
                            </div>
                            <p className="text-[15px] text-gray-800 leading-relaxed pl-6 whitespace-pre-line font-medium line-clamp-3">
                            {event.mustEat}
                            </p>
                            <p className="text-[11px] text-[#E67E22]/70 text-right mt-2 font-bold tracking-wider">ğŸ” é»æ“Šæ”¾å¤§çµ¦åº—å“¡çœ‹</p>
                          </div>
                        )}

                        {/* Olive Young å¿…è²·æ¸…å–®æŒ‰éˆ• */}
                        {event.shoppingList && (
                          <div className="mt-3 mb-4">
                            <button 
                              onClick={() => onZoom({ type: 'shopping_list', items: event.shoppingList })}
                              className="w-full bg-white border border-pink-200 p-3 rounded-2xl flex items-center justify-between gap-2 shadow-sm active:scale-95 transition-all hover:bg-pink-50"
                            >
                                <div className="flex items-center gap-2 text-[#FF69B4] font-bold">
                                    <Icons.ShoppingBag size={18} />
                                    <span>å¿…è²·åœ–é‘‘ (é™„ç…§ç‰‡)</span>
                                </div>
                                <div className="flex -space-x-2">
                                    {event.shoppingList.slice(0,3).map((item, i) => (
                                        <div key={i} className="w-8 h-8 rounded-full border-2 border-white overflow-hidden bg-gray-100">
                                            <img src={item.img} className="w-full h-full object-cover" alt="" />
                                        </div>
                                    ))}
                                    <div className="w-8 h-8 rounded-full border-2 border-white bg-pink-100 flex items-center justify-center text-xs text-pink-500 font-bold">+{event.shoppingList.length-3}</div>
                                </div>
                            </button>
                          </div>
                        )}

                        {event.highlight && (
                          <div className="mt-3 mb-4 bg-gradient-to-r from-[#E0F7FA] to-[#B2EBF2] border-0 p-4 rounded-2xl cursor-pointer hover:shadow-sm transition-all group/highlight" onClick={() => onZoom({ title: event.title, items: event.highlight, type: 'highlight', koreanName: event.koreanName })}>
                            <div className="flex justify-between items-start mb-2">
                                <div className="flex items-center gap-2 text-[#0097A7] font-extrabold text-sm">
                                    <Icons.Eye size={16} className="fill-[#0097A7]" />
                                    å¿…çœ‹äº®é»
                                </div>
                                <Icons.Maximize2 size={16} className="text-[#0097A7]/50 group-hover/highlight:opacity-100 transition-opacity" />
                            </div>
                            <p className="text-[15px] text-gray-800 leading-relaxed pl-6 whitespace-pre-line font-medium line-clamp-3">
                            {event.highlight}
                            </p>
                            <p className="text-[11px] text-[#0097A7]/70 text-right mt-2 font-bold tracking-wider">ğŸ” é»æ“ŠæŸ¥çœ‹è©³ç´°ä»‹ç´¹</p>
                          </div>
                        )}

                        {event.shoppingGuide && (
                          <div className="mt-3 mb-4 bg-gradient-to-r from-[#F3F0FF] to-[#E0D4FC] border-0 p-4 rounded-2xl cursor-pointer hover:shadow-sm transition-all group/shop" onClick={() => onZoom({ title: event.title, items: event.shoppingGuide, type: 'shopping' })}>
                            <div className="flex justify-between items-start mb-2">
                                <div className="flex items-center gap-2 text-[#7367F0] font-extrabold text-sm">
                                    <Icons.ShoppingBag size={16} className="fill-[#7367F0]" />
                                    å¿…è²·æ”»ç•¥
                                </div>
                                <Icons.Maximize2 size={16} className="text-[#7367F0]/50 group-hover/shop:opacity-100 transition-opacity" />
                            </div>
                            <p className="text-[15px] text-gray-800 leading-relaxed pl-6 whitespace-pre-line font-medium line-clamp-3">
                                {event.shoppingGuide.map(s => s.name).join('ã€')}...
                            </p>
                            <p className="text-[11px] text-[#7367F0]/70 text-right mt-2 font-bold tracking-wider">ğŸ” é»æ“ŠæŸ¥çœ‹è©³ç´°æ¸…å–®</p>
                          </div>
                        )}

                        {/* ä¿®æ­£ï¼šåœ¨å°ç£çš„åœ°é»ä¸é¡¯ç¤ºéŸ“æ–‡è¤‡è£½èˆ‡åœ°åœ– */}
                        {!event.isTaiwan && (
                            <div className="flex items-center gap-3 mt-3 mb-4 bg-gray-50/80 p-3 rounded-2xl border border-gray-100/50">
                              <div className="flex-1">
                                <p className="text-[11px] text-gray-400 font-medium mb-0.5">éŸ“æ–‡åç¨± (é»æ“Šè¤‡è£½)</p>
                                <p className="text-[15px] font-bold text-gray-800 cursor-pointer hover:text-[#4A90E2] transition-colors" onClick={() => copyToClipboard(event.koreanName)}>{event.koreanName}</p>
                              </div>
                              <div className="flex gap-2 shrink-0">
                                 <button onClick={() => copyToClipboard(event.koreanName)} className="px-4 py-2.5 bg-white rounded-xl border border-gray-200 text-gray-600 text-xs font-bold hover:text-[#4A90E2] hover:border-[#4A90E2] transition-all active:scale-95 shadow-sm flex items-center gap-1"><Icons.Copy size={14}/>è¤‡è£½</button>
                                 <button onClick={() => openNaverMap(event.koreanName)} className="px-3 py-2.5 bg-[#28C76F] text-white rounded-xl shadow-sm hover:bg-[#24B364] transition-all flex items-center gap-1.5 active:scale-95" title="é–‹å•Ÿ Naver Map"><Icons.Map size={18} /><span className="text-xs font-bold">Map</span></button>
                              </div>
                            </div>
                        )}
                        
                        {/* å°ç£åœ°é»é¡¯ç¤º Google Map æŒ‰éˆ• */}
                        {event.isTaiwan && (
                            <div className="flex items-center gap-3 mt-3 mb-4 bg-gray-50/80 p-3 rounded-2xl border border-gray-100/50">
                              <div className="flex-1">
                                <p className="text-[15px] font-bold text-gray-800">{event.title}</p>
                              </div>
                              <div className="flex gap-2 shrink-0">
                                 <button onClick={() => window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(event.title)}`, '_blank')} className="px-3 py-2.5 bg-blue-500 text-white rounded-xl shadow-sm hover:bg-blue-600 transition-all flex items-center gap-1.5 active:scale-95" title="é–‹å•Ÿ Google Map"><Icons.Map size={18} /><span className="text-xs font-bold">Google Map</span></button>
                              </div>
                            </div>
                        )}

                        {/* è·¯ç·šè¦åŠƒæŒ‰éˆ• (å¾ä¸Šä¸€ç«™åˆ°é€™ç«™) */}
                        <div className="mt-4 pt-4 border-t border-gray-100">
                            <div className="flex justify-between items-center">
                                <div className="text-xs text-gray-500 font-medium flex items-center gap-1">
                                    â¬‡ï¸ å‰å¾€ä¸‹ä¸€ç«™ï¼š{event.nextMove ? event.nextMove.to : 'ç„¡'}
                                </div>
                            </div>
                            {event.nextMove && (
                                <div className="mt-2 flex items-center justify-between bg-gray-50 p-3 rounded-xl border border-gray-100">
                                    <div className="flex items-center gap-3">
                                        <div className="text-sm font-bold text-gray-800 flex items-center gap-1">
                                            {event.nextMove.type === 'åœ°éµ' || event.nextMove.type.includes('å·´å£«') || event.nextMove.type === 'æ©Ÿå ´å·´å£«/å¿«ç·š' ? <Icons.Train size={14} className="text-gray-500"/> : <Icons.Car size={14} className="text-gray-500"/>}
                                            {event.nextMove.type}
                                        </div>
                                        <div className="text-xs text-gray-500">ç´„ {event.nextMove.time}</div>
                                        <div className="text-xs text-gray-400 font-mono">
                                            {event.nextMove.cost} 
                                            <span className="text-[10px] text-gray-300 ml-1">{formatCurrency(event.nextMove.cost)}</span>
                                        </div>
                                    </div>
                                    {!event.isTaiwan && (
                                        <button 
                                            onClick={() => openRoute(event.koreanName, event.nextMove.kor)} 
                                            className="bg-white border border-gray-200 text-[#4A90E2] text-xs px-3 py-1.5 rounded-lg font-bold shadow-sm hover:bg-[#4A90E2] hover:text-white transition-all active:scale-95 flex items-center gap-1"
                                        >
                                            <Icons.Navigation size={12} /> è·¯ç·š
                                        </button>
                                    )}
                                    {event.isTaiwan && (
                                        <button 
                                            onClick={() => window.open(`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(event.nextMove.to)}`, '_blank')} 
                                            className="bg-white border border-gray-200 text-blue-600 text-xs px-3 py-1.5 rounded-lg font-bold shadow-sm hover:bg-blue-600 hover:text-white transition-all active:scale-95 flex items-center gap-1"
                                        >
                                            <Icons.Navigation size={12} /> Google è·¯ç·š
                                        </button>
                                    )}
                                </div>
                            )}
                        </div>

                        {event.link && (
                            <a href={event.link} target="_blank" rel="noopener noreferrer" className="flex items-center justify-center gap-2 text-[#4A90E2] font-bold text-sm mt-3 hover:underline bg-[#4A90E2]/10 p-3 rounded-2xl w-full transition-all active:scale-[0.98]">
                                <Icons.Link size={16} /> é–‹å•Ÿé€£çµ / é ç´„è³‡è¨Š
                            </a>
                        )}
                        {/* ä¿®æ­£ï¼šå¢åŠ é ç´„èˆ‡æœ€ä½³æ™‚é–“é¡¯ç¤º */}
                        {(event.reservationInfo || event.bestTime) && (
                            <div className="mt-3 pt-3 border-t border-gray-100 text-xs space-y-1">
                                {event.reservationInfo && (
                                    <div className="flex items-start gap-1.5 text-purple-600 font-medium">
                                        <span className="shrink-0">ğŸ“</span>
                                        <span>{event.reservationInfo}</span>
                                    </div>
                                )}
                                {event.bestTime && (
                                    <div className="flex items-start gap-1.5 text-green-600 font-medium">
                                        <span className="shrink-0">ğŸ•’</span>
                                        <span>æœ€ä½³æ™‚é–“ï¼š{event.bestTime}</span>
                                    </div>
                                )}
                            </div>
                        )}
                        <p className={`text-sm leading-relaxed font-medium mt-2 ${isWarningDesc(event) ? 'text-[#EA5455]' : 'text-gray-500'}`}>{renderDesc(event)}</p>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          );
        }

        // ---------------------------------------------------------
        // 5. ä¸»ç¨‹å¼ (App) - æ”¾åœ¨æ‰€æœ‰å­å…ƒä»¶å®šç¾©ä¹‹å¾Œ
        // ---------------------------------------------------------
        function KoreaTripApp() {
          const [activeTab, setActiveTab] = useState('itinerary');
          const [zoomedItem, setZoomedItem] = useState(null);
          const [showRefundCalc, setShowRefundCalc] = useState(false);

          useEffect(() => {
            document.title = "CC é¦–çˆ¾5D4N";
          }, []);
          
          const renderContent = () => {
            switch (activeTab) {
              case 'itinerary': return <ItineraryView onZoom={setZoomedItem} />;
              case 'checklist': return <ChecklistView />;
              case 'info': return <InfoView onOpenCalc={() => setShowRefundCalc(true)} />;
              default: return <ItineraryView onZoom={setZoomedItem} />;
            }
          };

          return (
            <div className="flex flex-col h-screen bg-gray-50 text-gray-800 font-sans max-w-md mx-auto shadow-2xl overflow-hidden relative rounded-xl my-0 md:my-10 md:h-[90vh] md:border border-gray-200">
              {/* Header */}
              <div className="bg-gradient-to-r from-[#4A90E2] to-[#5B8FF9] text-white p-4 shadow-md z-10 shrink-0 flex items-center gap-3 rounded-b-2xl relative">
                <div className="w-12 h-12 rounded-full border-2 border-white/50 overflow-hidden bg-blue-400 shadow-sm shrink-0">
                    <img src="https://images.unsplash.com/photo-1538485399081-7191377e8241?auto=format&fit=crop&w=150&h=150&q=80" alt="Seoul Icon" className="w-full h-full object-cover" />
                </div>
                <div>
                    <h1 className="text-xl font-bold tracking-wide">CC é¦–çˆ¾5D4N</h1>
                    <p className="text-blue-50 text-xs mt-0.5 font-medium">11/25 - 11/29 â€¢ Ready to go! ğŸ‡°ğŸ‡·</p>
                </div>
                {/* é€€ç¨…è¨ˆç®—æ©ŸæŒ‰éˆ• */}
                <button 
                    onClick={() => setShowRefundCalc(true)}
                    className="absolute right-4 top-4 bg-white/20 p-2 rounded-full hover:bg-white/30 transition-colors"
                >
                    <Icons.DollarSign size={20} />
                </button>
              </div>

              {/* Content */}
              <div className="flex-1 overflow-y-auto pb-20 scrollbar-hide bg-[#F8F9FA]">
                {renderContent()}
              </div>

              {/* é€€ç¨…è¨ˆç®—æ©Ÿ Modal */}
              {showRefundCalc && (
                  <TaxRefundCalculator onClose={() => setShowRefundCalc(false)} />
              )}

              {/* Modal (æ”¯æ´ç´”æ–‡å­—ã€åœ–ç‰‡åˆ—è¡¨ã€eSIM) */}
              {zoomedItem && (
                <div className="fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex flex-col justify-center items-center p-4 text-center animate-in fade-in duration-200" onClick={() => setZoomedItem(null)}>
                   
                   {/* åˆ¤æ–·æ˜¯å¦ç‚º eSIM å…§å®¹ */}
                   {zoomedItem.type === 'esim' ? (
                        <div className="bg-white text-gray-900 p-6 rounded-3xl w-full max-w-sm shadow-2xl border-0 scale-105 transform transition-transform max-h-[80vh] overflow-y-auto relative" onClick={(e) => e.stopPropagation()}>
                            <button onClick={() => setZoomedItem(null)} className="absolute top-4 right-4 text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full p-1"><Icons.X size={20} /></button>
                            <div className="flex items-center justify-center gap-2 mb-6 text-[#4A90E2]">
                                <Icons.SimCard size={20} className="fill-[#4A90E2]" />
                                <span className="font-bold text-xl">eSIM æ†‘è­‰</span>
                            </div>
                            <EsimContent />
                        </div>
                   ) : (
                       /* åˆ¤æ–·æ˜¯å¦ç‚º Olive Young åœ–ç‰‡åˆ—è¡¨ */
                       zoomedItem.type === 'shopping_list' ? (
                           <div className="bg-white text-gray-900 p-6 rounded-3xl w-full max-w-sm shadow-2xl border-0 scale-105 transform transition-transform max-h-[80vh] overflow-y-auto relative" onClick={(e) => e.stopPropagation()}>
                                <button onClick={() => setZoomedItem(null)} className="absolute top-4 right-4 text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full p-1"><Icons.X size={20} /></button>
                                <div className="flex items-center justify-center gap-2 mb-6 text-[#FF69B4]">
                                    <Icons.ShoppingBag size={20} className="fill-[#FF69B4]" />
                                    <span className="font-bold text-xl">å¿…è²·åœ–é‘‘</span>
                                </div>
                                <div className="space-y-4">
                                    {zoomedItem.items.map((item, idx) => (
                                        <div key={idx} className="flex gap-3 items-center border-b border-gray-100 pb-3 last:border-0">
                                            <div className="w-16 h-16 shrink-0 rounded-lg border border-gray-200 overflow-hidden bg-gray-50">
                                                <img src={item.img} alt={item.name} className="w-full h-full object-cover" />
                                            </div>
                                            <div className="text-left flex-1">
                                                <p className="font-bold text-gray-800 text-sm">{item.name}</p>
                                                <p className="text-xs text-gray-500 mt-0.5">{item.kor}</p>
                                            </div>
                                            <button 
                                                onClick={() => navigator.clipboard.writeText(item.kor)}
                                                className="p-2 bg-gray-100 rounded-full text-gray-500 hover:text-blue-600 hover:bg-blue-50 transition-colors"
                                            >
                                                <Icons.Copy size={14} />
                                            </button>
                                        </div>
                                    ))}
                                </div>
                           </div>
                       ) : zoomedItem.type === 'shopping' ? (
                            <div className="bg-white text-gray-900 p-6 rounded-3xl w-full max-w-sm shadow-2xl border-0 scale-105 transform transition-transform max-h-[80vh] overflow-y-auto relative" onClick={(e) => e.stopPropagation()}>
                                <button onClick={() => setZoomedItem(null)} className="absolute top-4 right-4 text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full p-1"><Icons.X size={20} /></button>
                                <div className="flex items-center justify-center gap-2 mb-6 text-[#7367F0]">
                                    <Icons.ShoppingBag size={20} className="fill-[#7367F0]" />
                                    <span className="font-bold text-xl">å¿…è²·æ”»ç•¥</span>
                                </div>
                                <div className="space-y-4">
                                    {zoomedItem.items.map((item, idx) => (
                                        <div key={idx} className="bg-gray-50 p-4 rounded-2xl border border-gray-100">
                                            <div className="flex justify-between items-start mb-2">
                                                <div>
                                                    <h4 className="font-bold text-gray-800 text-lg">{item.name}</h4>
                                                    <p className="text-sm text-gray-500">{item.kor}</p>
                                                </div>
                                                {item.isGift && (
                                                    <span className="text-[10px] bg-pink-100 text-pink-600 px-2 py-1 rounded-full font-bold flex items-center gap-1">
                                                        <Icons.Gift size={10} /> ä¼´æ‰‹ç¦®
                                                    </span>
                                                )}
                                            </div>
                                            <p className="text-sm text-gray-600 leading-relaxed whitespace-pre-line mb-3">{item.desc}</p>
                                            <div className="flex gap-2">
                                                <button 
                                                    onClick={() => navigator.clipboard.writeText(item.kor)}
                                                    className="flex-1 bg-white border border-gray-200 text-gray-500 py-2 rounded-xl text-xs font-bold flex items-center justify-center gap-1 hover:bg-gray-50 active:scale-95 transition-all"
                                                >
                                                    <Icons.Copy size={12} /> è¤‡è£½éŸ“æ–‡
                                                </button>
                                                <button 
                                                    onClick={() => {
                                                        const url = `nmap://search?query=${encodeURIComponent(item.kor)}&appname=com.example.myapp`;
                                                        const webUrl = `https://m.map.naver.com/search2/search.naver?query=${encodeURIComponent(item.kor)}`;
                                                        window.location.href = url;
                                                        setTimeout(() => { window.open(webUrl, '_blank'); }, 500);
                                                    }}
                                                    className="flex-1 bg-[#03C75A] text-white py-2 rounded-xl text-xs font-bold flex items-center justify-center gap-1 hover:bg-[#02b350] active:scale-95 transition-all shadow-sm"
                                                >
                                                    <Icons.Map size={12} /> Naver Map
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                       ) : (
                           /* ä¸€èˆ¬ç´”æ–‡å­— Modal (Highlights, MustEat) */
                           <div className="bg-white text-gray-900 p-8 rounded-3xl w-full max-w-sm shadow-2xl border-0 scale-105 transform transition-transform relative" onClick={(e) => e.stopPropagation()}>
                              <button onClick={() => setZoomedItem(null)} className="absolute top-4 right-4 text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full p-1"><Icons.X size={20} /></button>
                              <div className={`flex items-center justify-center gap-2 mb-4 ${zoomedItem.type === 'highlight' ? 'text-[#00CEC9]' : 'text-[#FF9F43]'}`}>
                                 {zoomedItem.type === 'highlight' ? <Icons.Eye size={20} className="fill-[#00CEC9]" /> : <Icons.ThumbsUp size={20} className="fill-[#FF9F43]" />}
                                 <span className="font-bold text-xl">
                                    {zoomedItem.type === 'highlight' ? 'å¿…çœ‹äº®é»' : 'å¿…é»èœå–®'}
                                 </span>
                              </div>
                              <div className="text-left max-h-[60vh] overflow-y-auto scrollbar-hide">
                                <h2 className="text-[16px] font-bold leading-relaxed whitespace-pre-line text-gray-800 mb-4">{zoomedItem.items}</h2>
                                
                                {/* å¿…é»èœå–®çš„åœ°åœ–æŒ‰éˆ• */}
                                {zoomedItem.koreanName && (
                                    <div className="flex gap-2 pt-4 border-t border-gray-100">
                                        <button 
                                            onClick={() => navigator.clipboard.writeText(zoomedItem.koreanName)}
                                            className="flex-1 bg-white border border-gray-200 text-gray-500 py-2.5 rounded-xl text-sm font-bold flex items-center justify-center gap-1 hover:bg-gray-50 active:scale-95 transition-all"
                                        >
                                            <Icons.Copy size={14} /> è¤‡è£½åº—å
                                        </button>
                                        <button 
                                            onClick={() => {
                                                const url = `nmap://search?query=${encodeURIComponent(zoomedItem.koreanName)}&appname=com.example.myapp`;
                                                const webUrl = `https://m.map.naver.com/search2/search.naver?query=${encodeURIComponent(zoomedItem.koreanName)}`;
                                                window.location.href = url;
                                                setTimeout(() => { window.open(webUrl, '_blank'); }, 500);
                                            }}
                                            className="flex-1 bg-[#03C75A] text-white py-2.5 rounded-xl text-sm font-bold flex items-center justify-center gap-1 hover:bg-[#02b350] active:scale-95 transition-all shadow-sm"
                                        >
                                            <Icons.Map size={14} /> å°èˆªè‡³æ­¤
                                        </button>
                                    </div>
                                )}
                              </div>
                           </div>
                       )
                   )}
                   
                   <p className="text-white/60 mt-10 text-sm flex items-center gap-2 font-light">
                     <Icons.Maximize2 size={16} /> é»æ“Šä»»æ„è™•é—œé–‰
                   </p>
                </div>
              )}

              {/* Navigation */}
              <div className="bg-white/90 backdrop-blur-md border-t border-gray-100 fixed bottom-0 w-full max-w-md flex justify-around items-center p-2 pb-safe z-20 rounded-t-2xl md:absolute md:bottom-0">
                <NavButton active={activeTab === 'itinerary'} onClick={() => setActiveTab('itinerary')} icon={<Icons.Calendar size={20} />} label="è¡Œç¨‹" />
                <NavButton active={activeTab === 'checklist'} onClick={() => setActiveTab('checklist')} icon={<Icons.CheckSquare size={20} />} label="æ¸…å–®" />
                <NavButton active={activeTab === 'info'} onClick={() => setActiveTab('info')} icon={<Icons.Info size={20} />} label="è³‡è¨Š" />
              </div>
            </div>
          );
        }

        // --- 6. å•Ÿå‹• (Render) ---
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<KoreaTripApp />);
    </script>
</body>
</html>
